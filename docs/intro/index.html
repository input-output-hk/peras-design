<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.3.2">
<title data-rh="true">What is Peras? | Ouroboros Peras</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://peras.cardano-scaling.org/docs/intro"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="What is Peras? | Ouroboros Peras"><meta data-rh="true" name="description" content="Peras, or more precisely Ouroboros Peras, is an extension of Ouroboros Praos that addresses one of the known issues of blockchains based on Nakamoto-style consensus, namely settlement time. Peras achieves that goal while being self-healing, preserving the security of Praos, and being light on resources."><meta data-rh="true" property="og:description" content="Peras, or more precisely Ouroboros Peras, is an extension of Ouroboros Praos that addresses one of the known issues of blockchains based on Nakamoto-style consensus, namely settlement time. Peras achieves that goal while being self-healing, preserving the security of Praos, and being light on resources."><link data-rh="true" rel="icon" href="/img/pilcrow.ico"><link data-rh="true" rel="canonical" href="https://peras.cardano-scaling.org/docs/intro"><link data-rh="true" rel="alternate" href="https://peras.cardano-scaling.org/docs/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://peras.cardano-scaling.org/docs/intro" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/weekly/rss.xml" title="Peras R&amp;D Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/weekly/atom.xml" title="Peras R&amp;D Feed Atom Feed">
<link rel="alternate" type="application/json" href="/weekly/feed.json" title="Peras R&amp;D Feed JSON Feed">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="https://plausible.io/js/script.js" defer="defer" data-domain="peras.cardano-scaling.org"></script><link rel="stylesheet" href="/assets/css/styles.5d3ddda8.css">
<script src="/assets/js/runtime~main.16a53b9d.js" defer="defer"></script>
<script src="/assets/js/main.48586d86.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Peras Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-for-dark.png" alt="Peras Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Peras R&amp;D</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documents</a><a href="/agda_html/Peras.SmallStep.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Formal Specification</a><a class="navbar__item navbar__link" href="/weekly">Updates</a></div><div class="navbar__items navbar__items--right"><a href="/dashboard/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Dashboard</a><a href="https://peras-simulation.cardano-scaling.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Simulator<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/input-output-hk/peras-design" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/reports/">Reports</a><button aria-label="Expand sidebar category &#x27;Reports&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>What is Peras?</h1>
<p>Peras, or more precisely Ouroboros Peras, is an extension of <a href="https://iohk.io/en/research/library/papers/ouroboros-praos-an-adaptively-secure-semi-synchronous-proof-of-stake-protocol/" target="_blank" rel="noopener noreferrer">Ouroboros Praos</a> that addresses one of the known issues of blockchains based on Nakamoto-style consensus, namely <em>settlement time</em>. Peras achieves that goal while being <em>self-healing</em>, preserving the security of Praos, and being light on resources.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>This site documents the <strong>pre-alpha</strong> version of the protocol, which already provides strong guarantees of settlement bounds, adapts to fluctuating participation, and can recover from failures.</p><p>Research work is still ongoing to refine the protocol and provide even better guarantees in the face of high adversarial stake.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-settlement">What is settlement?<a href="#what-is-settlement" class="hash-link" aria-label="Direct link to What is settlement?" title="Direct link to What is settlement?">​</a></h2>
<p>Recall that in Cardano, like in all Nakamoto-style consensus blockchains, new blocks are added to the chain in a probabilistic way. The protocol gives each <em>Stake-Pool Operator</em> (SPO) the right to <em>forge</em> a new block every slot depending on the amount of stake they represent, and the protocol parameters are defined in such a way that one new block is created every 20 slots. A newly forged block is then propagated across the network and adopted by other nodes following the <em>longest chain</em> principle: when a given node receives a new chain, i.e. a chain extended with a new block, it adopts it as its own if and only if the new chain is longer than any other previously known chain.</p>
<p>Because of the distributed, decentralized and probabilistic nature of the protocol, it&#x27;s perfectly possible that two or more chains coexist simultaneously across the network:</p>
<ul>
<li>More than one SPO can be elected to create a new block at approximately the same time,</li>
<li>Blocks take some time to reach all network nodes giving rise to the possibility of different nodes having different views of the best chain,</li>
<li>Nodes come and go,</li>
<li>Transactions included in blocks also need to travel across the network before reaching the SPO that will forge a block including them,</li>
<li>...</li>
</ul>
<p>This phenomenon is known as <em>forking</em>: a node&#x27;s current best chain can be superseded by a new best chain which is very similar but for the last few blocks. Short (eg. a couple of blocks long) forks happen all the time, and they are usually non-problematic: rolled back blocks will be mostly identical, including the same transactions perhaps distributed differently among blocks, or with minor differences. But they can be harmful: if an end-user takes a decision, for example to ship some goods to another user, based on some transaction that&#x27;s later rolled back and never appears again because it was actually invalid, double-spending some UTxO, this opens up the possibility of fraud.</p>
<p>Therefore, from the point of view of an end-user submitting to or depending on a specific transaction, the important question is: <em>When can they consider their transaction will never be rolled back</em>? In other words, when can they consider the transaction to be <em>settled</em>?</p>
<p>In the context of this work, settlement is henceforth defined from an <em>observability</em> perspective:</p>
<blockquote>
<p>Settlement time is the duration after which a block (or transaction) added to node&#x27;s best chain has a negligible probability of being rolled back because of a fork</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-current-settlement-value">What&#x27;s current settlement value?<a href="#whats-current-settlement-value" class="hash-link" aria-label="Direct link to What&#x27;s current settlement value?" title="Direct link to What&#x27;s current settlement value?">​</a></h2>
<p>It turns out giving a precise answer to this question is convoluted, and depends on various characteristics of the protocol, most notably the expected diffusion time (Δ) across the network, and assumptions about the fraction of <em>adversarial stake</em>. When reasoning about blockchain properties, the relative power between <em>honest</em> nodes, i.e. the nodes that respect the protocol, and <em>adversarial</em> nodes, i.e. the ones that can do whatever they want, is extremely important.</p>
<p>Ouroboros Praos has been <a href="https://iohk.io/en/research/library/papers/ouroboros-praos-an-adaptively-secure-semi-synchronous-proof-of-stake-protocol/" target="_blank" rel="noopener noreferrer">proven to be safe</a> up to 50% adversarial stake: as long as the adversary does not control majority of the stake, it guarantees various key properties of the chain which we can summarize informally by saying all honest nodes will ultimately agree on the same, honest, chain. However, this robustness comes at a price which is the time nodes have to wait to consider a block (therefore a chain) <em>settled</em>.</p>
<p>In Cardano a node considers a block definitely <em>settled</em>, or <em>immutable</em>, once it is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span> blocks behind the current tip of its best chain, where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>2160</mn></mrow><annotation encoding="application/x-tex">k=2160</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">2160</span></span></span></span>. Assuming average interblock arrival rate of 20 seconds, this means a block is settled after about 12 hours.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-is-k-determined">How is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span> determined?<a href="#how-is-k-determined" class="hash-link" aria-label="Direct link to how-is-k-determined" title="Direct link to how-is-k-determined">​</a></h3>
<p>The question of settlement time has been given a mathematically rigorous treatment in the paper <a href="https://iohk.io/en/research/library/papers/practical-settlement-bounds-for-longest-chain-consensus/" target="_blank" rel="noopener noreferrer">Practical Settlement Bounds for Longest-Chain consensus</a>, whose main findings can be summarized in the following picture.</p>
<p><img decoding="async" loading="lazy" alt="Fork probability for 10% adversarial stake" src="/assets/images/settlement-failure-probability-306f400a2fdfb6d8050525a6167d2144.png#scale50" width="2028" height="1516" class="img_ev3q"></p>
<p>This graph reads as follows: assuming an adversarial stake of at most 10%, and a diffusion bound Δ of 5 seconds, the probability of a block being rolled back after a node has observed 20 blocks is 0.001%.</p>
<p>If Δ drops to 2s, e.g. if we consider the network to be faster and more reliable, then this probability also drops to 0.0001%.</p>
<p>On Cardano&#x27;s mainnet, because of the much more stringent security requirements, we&#x27;ll require a much lower failure rate of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>6</mn></msup><mn>0</mn></mrow><annotation encoding="application/x-tex">2^60</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mord">0</span></span></span></span>. Assuming the adversary has at most 35% stake and huge <em>grinding power</em>, and network propagation delay <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>=</mo><mn>5</mn><mi>s</mi></mrow><annotation encoding="application/x-tex">Δ=5s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">5</span><span class="mord mathnormal">s</span></span></span></span>, the same computation yields roughly the current value of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span>, i.e. a bit over 2000 blocks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-happens-in-practice">What happens in practice?<a href="#what-happens-in-practice" class="hash-link" aria-label="Direct link to What happens in practice?" title="Direct link to What happens in practice?">​</a></h3>
<p>In practice we know that <em>core nodes</em>, e.g.. block producing nodes or relays, seldom observe forks longer than 2 blocks. And most wallets, explorers, DApps, and other end-user facing systems provide feedback about transaction settlement under the name <em>number of confirmations</em> which is exactly the same thing: the number of blocks past current best chain&#x27;s tip of the block containing the transaction. A <em>number of confirmations</em> higher than 10 is considered <em>high</em>.</p>
<p>However, it&#x27;s quite possible an adversary is &quot;lurking in the shadows&quot;, building a <em>private chain</em> and awaiting the best time to take over the network and roll back transactions which would have normally be considered safe. This idea of private chains or &quot;selfish mining&quot; has been detailed in the classical paper <a href="https://arxiv.org/abs/1311.0243" target="_blank" rel="noopener noreferrer">Majority is not enough</a>, and it is critical to address this problem to ensure the security of any decentralised blockchain. This explains why we observe such a difference between the theoretical settlement bound provided by the protocol, and the practically observed one.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-peras-work">How does Peras work?<a href="#how-does-peras-work" class="hash-link" aria-label="Direct link to How does Peras work?" title="Direct link to How does Peras work?">​</a></h2>
<p>Peras exists to bridge that gap and make settlement bounds closer to practical values, e.g. to dramatically decrease the probability of a fork even after only a few blocks.</p>
<p>The key idea of Peras is to use stake-based voting to <em>boost</em> the weight of blocks on which a majority  of SPOs agree. The chain selection rule is then modified to select the <em>heaviest</em> chain instead of the <em>longest</em> one.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-does-the-protocol-work">How does the protocol work?<a href="#how-does-the-protocol-work" class="hash-link" aria-label="Direct link to How does the protocol work?" title="Direct link to How does the protocol work?">​</a></h3>
<p>From a high-level perspective, the protocol works as follows:</p>
<ul>
<li>At the beginning of each <em>round</em>, a randomly selected <em>committee</em> of SPOs <em>vote</em> for the block at a fixed depth from their current best chain tip, with each vote having a weight correlated to the SPO&#x27;s stake,</li>
<li>Time is divided in fixed-length <em>rounds</em> with a duration in the order of a few tens of slots,</li>
<li>The votes are broadcast to all nodes across the network,</li>
<li>If a node sees a <em>quorum</em> of vote for the same block, it can issue a <em>certificate</em> which <em>boosts</em> the weight of this block,</li>
<li>Certificates are also diffused across the network on demand, to those nodes which don&#x27;t have equivalent votes,</li>
<li>If a node does not receive a quorum for a round, either from votes or a certificate, it enters a <em>cooldown</em> period during which any vote or certificate are <em>ignored</em>,<!-- -->
<ul>
<li>A node exits cooldown after a fixed number of rounds, and starts voting again.</li>
<li>When it enters cooldown, a block producer also appends the latest certificate to the block it forges.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-the-benefits">What are the benefits?<a href="#what-are-the-benefits" class="hash-link" aria-label="Direct link to What are the benefits?" title="Direct link to What are the benefits?">​</a></h3>
<p>The exact effect of Peras depends on the values of various protocol parameters which are detailed in the <a href="/docs/reports/tech-report-2">Technical Report</a>. Based on the <a href="/docs/reports/tech-report-2#recommendations-for-peras-parameters">recommendations</a> provided in the report</p>
<blockquote>
<p>anyone seeing a transaction appearing in a block need wait no more
than two minutes to be certain whether the transaction is on the
preferred chain (effectively permanently, less than a one in a
trillion probability even at 45% adversarial stake) versus having
been discarded because of a roll back</p>
</blockquote>
<p>Importantly, Peras does not change the underlying security guarantees of Ouroboros Praos, and reverts to it in the event of a cooldown. Moreover, it adapts to fluctuating participation of SPOs and can recover from temporary &quot;failures&quot;, e.g. if an adversary manages to temporarily reach a <em>quorum</em>, they only will be able to takeover the chain if they manage to maintain that superiority over time, otherwise the honest parties will take over.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="where-to-go-from-here">Where to go from here?<a href="#where-to-go-from-here" class="hash-link" aria-label="Direct link to Where to go from here?" title="Direct link to Where to go from here?">​</a></h2>
<p>A lot more details about Peras protocol can be found in various places:</p>
<ul>
<li>For detailed analysis of the protocol, please refer to <a href="/docs/reports/tech-report-2">Technical Report #2</a></li>
<li>For a formal description, refer to the <a href="/agda_html/Peras.SmallStep.html" target="_blank" rel="noopener noreferrer">Agda Specification</a></li>
<li>Conformance tests are available in the <a href="https://github.com/input-output-hk/peras-design" target="_blank" rel="noopener noreferrer">Peras repository</a></li>
<li>A live simulation of the protocol is available <a href="https://peras-simulation.cardano-scaling.org" target="_blank" rel="noopener noreferrer">https://peras-simulation.cardano-scaling.org</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/intro.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/docs/reports/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Reports</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-settlement" class="table-of-contents__link toc-highlight">What is settlement?</a></li><li><a href="#whats-current-settlement-value" class="table-of-contents__link toc-highlight">What&#39;s current settlement value?</a><ul><li><a href="#how-is-k-determined" class="table-of-contents__link toc-highlight">How is k determined?</a></li><li><a href="#what-happens-in-practice" class="table-of-contents__link toc-highlight">What happens in practice?</a></li></ul></li><li><a href="#how-does-peras-work" class="table-of-contents__link toc-highlight">How does Peras work?</a><ul><li><a href="#how-does-the-protocol-work" class="table-of-contents__link toc-highlight">How does the protocol work?</a></li><li><a href="#what-are-the-benefits" class="table-of-contents__link toc-highlight">What are the benefits?</a></li></ul></li><li><a href="#where-to-go-from-here" class="table-of-contents__link toc-highlight">Where to go from here?</a></li></ul></div></div></div></div></main></div></div></div><div style="width:100%;display:flex"><svg xmlns="http://www.w3.org/2000/svg" width="1920" height="100" viewBox="0 0 1920 100" style="height:auto;width:inherit"><path fill="#F8FCFA" d="M0 0h1920v100H0z"></path><path fill="#1F5B3B" d="m0 46 160-9L320 4l160 35 160 24 160-30 160 37 160-28 160 34 160-64 160 10 160 17 160 13v49H0Z"></path></svg></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Documents</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/9EgySPJk" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/input-output-hk/peras-design/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/weekly">Updates</a></li><li class="footer__item"><a href="https://github.com/input-output-hk/peras-design" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://static.iohk.io/terms/iohktermsandconditions.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms &amp; Conditions</a></li><li class="footer__item"><a href="https://static.iohk.io/terms/iog-privacy-policy.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://github.com/input-output-hk/peras-design/graphs/contributors" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributors</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 <strong>Input Output Global</strong> <br> <a href="https://static.iohk.io/terms/iog-privacy-policy.pdf" target="_blank" class="footer__link-item">Privacy Policy</a> | <a href="https://static.iohk.io/terms/iohktermsandconditions.pdf" target="_blank" class="footer__link-item">Terms & Conditions</a> <br> <small>Built with Docusaurus</small></div></div></div></footer></div>
</body>
</html>