<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Peras.Numbering</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="Agda.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre class="Agda"><a id="9" class="Keyword">module</a> <a id="16" href="Peras.Numbering.html" class="Module">Peras.Numbering</a> <a id="32" class="Keyword">where</a>
</pre>
<!--
<pre class="Agda"><a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Agda.Builtin.FromNat.html" class="Module">Agda.Builtin.FromNat</a>
<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="110" class="Keyword">using</a> <a id="116" class="Symbol">(</a><a id="117" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="118" class="Symbol">;</a> <a id="120" href="Data.Nat.Base.html#5266" class="Function">pred</a><a id="124" class="Symbol">;</a> <a id="126" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="129" class="Symbol">;</a> <a id="131" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="134" class="Symbol">;</a> <a id="136" href="Data.Nat.Base.html#4456" class="Primitive Operator">_∸_</a><a id="139" class="Symbol">;</a> <a id="141" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="144" class="Symbol">;</a> <a id="146" href="Data.Nat.Base.html#7096" class="Function Operator">_/_</a><a id="149" class="Symbol">;</a> <a id="151" href="Data.Nat.Base.html#7279" class="Function Operator">_%_</a><a id="154" class="Symbol">;</a> <a id="156" href="Data.Nat.Base.html#3260" class="Record">NonZero</a><a id="163" class="Symbol">)</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="197" class="Keyword">using</a> <a id="203" class="Symbol">(</a><a id="204" href="Data.Nat.Properties.html#3311" class="Function Operator">_≟_</a><a id="207" class="Symbol">)</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="231" class="Keyword">using</a> <a id="237" class="Symbol">(</a><a id="238" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="239" class="Symbol">)</a>
<a id="241" class="Keyword">open</a> <a id="246" class="Keyword">import</a> <a id="253" href="Function.Base.html" class="Module">Function.Base</a> <a id="267" class="Keyword">using</a> <a id="273" class="Symbol">(</a><a id="274" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="277" class="Symbol">)</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Haskell.Prelude.html" class="Module">Haskell.Prelude</a> <a id="307" class="Keyword">using</a> <a id="313" class="Symbol">(</a><a id="314" href="Haskell.Prim.Eq.html#401" class="Record">Eq</a><a id="316" class="Symbol">;</a> <a id="318" href="Haskell.Prim.Ord.html#1003" class="Record">Ord</a><a id="321" class="Symbol">;</a> <a id="323" href="Haskell.Prim.Ord.html#1332" class="Function">ordFromCompare</a><a id="337" class="Symbol">;</a> <a id="339" href="Haskell.Prim.Ord.html#1041" class="Field">compare</a><a id="346" class="Symbol">;</a> <a id="348" href="Haskell.Prim.Eq.html#453" class="Field Operator">_==_</a><a id="352" class="Symbol">)</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Haskell.Law.Equality.html" class="Module">Haskell.Law.Equality</a> <a id="387" class="Keyword">using</a> <a id="393" class="Symbol">(</a><a id="394" href="Haskell.Law.Equality.html#226" class="Function">cong</a><a id="398" class="Symbol">)</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="428" class="Keyword">using</a> <a id="434" class="Symbol">(</a><a id="435" href="Relation.Binary.Definitions.html#6469" class="Function">DecidableEquality</a><a id="452" class="Symbol">)</a>
<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="483" class="Keyword">using</a> <a id="489" class="Symbol">(</a><a id="490" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬_</a><a id="492" class="Symbol">;</a> <a id="494" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a><a id="497" class="Symbol">;</a> <a id="499" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a><a id="501" class="Symbol">)</a>
<a id="503" class="Keyword">open</a> <a id="508" class="Keyword">import</a> <a id="515" href="Peras.Conformance.Params.html" class="Module">Peras.Conformance.Params</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Peras.Util.html" class="Module">Peras.Util</a>

<a id="564" class="Symbol">{-#</a> <a id="568" class="Keyword">FOREIGN</a> <a id="576" class="Pragma">AGDA2HS</a>
<a id="584" class="Symbol">{-#</a> <a id="588" class="Pragma">LANGUAGE</a> <a id="597" class="Pragma">DeriveGeneric</a> <a id="611" class="Symbol">#-}</a>
<a id="615" class="Symbol">{-#</a> <a id="619" class="Pragma">OPTIONS_GHC</a> <a id="631" class="Pragma">-fno-warn-missing-pattern-synonym-signatures</a> <a id="676" class="Symbol">#-}</a>
<a id="680" class="Symbol">{-#</a> <a id="684" class="Pragma">OPTIONS_GHC</a> <a id="696" class="Pragma">-fno-warn-missing-signatures</a> <a id="725" class="Symbol">#-}</a>
<a id="729" class="Symbol">{-#</a> <a id="733" class="Pragma">OPTIONS_GHC</a> <a id="745" class="Pragma">-fno-warn-name-shadowing</a> <a id="770" class="Symbol">#-}</a>
<a id="774" class="Symbol">{-#</a> <a id="778" class="Pragma">OPTIONS_GHC</a> <a id="790" class="Pragma">-fno-warn-type-defaults</a> <a id="814" class="Symbol">#-}</a>
<a id="818" class="Symbol">{-#</a> <a id="822" class="Pragma">OPTIONS_GHC</a> <a id="834" class="Pragma">-fno-warn-unused-imports</a> <a id="859" class="Symbol">#-}</a>
<a id="863" class="Symbol">{-#</a> <a id="867" class="Pragma">OPTIONS_GHC</a> <a id="879" class="Pragma">-fno-warn-unused-matches</a> <a id="904" class="Symbol">#-}</a>
<a id="908" class="Pragma">import</a> <a id="915" class="Pragma">GHC.Generics</a> <a id="928" class="Pragma">(Generic)</a>
<a id="938" class="Symbol">#-}</a>

<a id="943" class="Symbol">{-#</a> <a id="947" class="Keyword">FOREIGN</a> <a id="955" class="Pragma">GHC</a>
<a id="959" class="Pragma">import</a> <a id="966" class="Pragma">qualified</a> <a id="976" class="Pragma">Peras.Numbering</a> <a id="992" class="Pragma">as</a> <a id="995" class="Pragma">G</a>
<a id="997" class="Symbol">#-}</a>
</pre>-->
<h2 id="slots">Slots</h2>
<pre class="Agda"><a id="1028" class="Keyword">record</a> <a id="SlotNumber"></a><a id="1035" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a> <a id="1046" class="Symbol">:</a> <a id="1048" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1052" class="Keyword">where</a>
  <a id="1060" class="Keyword">constructor</a> <a id="MkSlotNumber"></a><a id="1072" href="Peras.Numbering.html#1072" class="InductiveConstructor">MkSlotNumber</a>
  <a id="1087" class="Keyword">field</a> <a id="SlotNumber.getSlotNumber"></a><a id="1093" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="1107" class="Symbol">:</a> <a id="1109" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="SlotNumber.next"></a><a id="1114" href="Peras.Numbering.html#1114" class="Function">next</a> <a id="1119" class="Symbol">:</a> <a id="1121" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a>
  <a id="1134" href="Peras.Numbering.html#1114" class="Function">next</a> <a id="1139" class="Symbol">=</a> <a id="1141" class="Keyword">record</a> <a id="1148" class="Symbol">{</a><a id="1149" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="1163" class="Symbol">=</a> <a id="1165" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="1169" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a><a id="1182" class="Symbol">}</a>

  <a id="SlotNumber._earlierBy_"></a><a id="1187" href="Peras.Numbering.html#1187" class="Function Operator">_earlierBy_</a>  <a id="1200" class="Symbol">:</a> <a id="1202" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="1204" class="Symbol">→</a> <a id="1206" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a>
  <a id="1219" href="Peras.Numbering.html#1187" class="Function Operator">_earlierBy_</a> <a id="1231" href="Peras.Numbering.html#1231" class="Bound">n</a> <a id="1233" class="Symbol">=</a> <a id="1235" class="Keyword">record</a> <a id="1242" class="Symbol">{</a><a id="1243" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="1257" class="Symbol">=</a> <a id="1259" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="1273" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="1275" href="Peras.Numbering.html#1231" class="Bound">n</a><a id="1276" class="Symbol">}</a>

<a id="1279" class="Keyword">open</a> <a id="1284" href="Peras.Numbering.html#1035" class="Module">SlotNumber</a> <a id="1295" class="Keyword">public</a>

<a id="1303" class="Keyword">instance</a>
  <a id="iSlotNumberEq"></a><a id="1314" href="Peras.Numbering.html#1314" class="Function">iSlotNumberEq</a> <a id="1328" class="Symbol">:</a> <a id="1330" href="Haskell.Prim.Eq.html#401" class="Record">Eq</a> <a id="1333" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a>
  <a id="1346" href="Peras.Numbering.html#1314" class="Function">iSlotNumberEq</a> <a id="1360" class="Symbol">.</a><a id="1361" href="Haskell.Prim.Eq.html#453" class="Field Operator">_==_</a> <a id="1366" href="Peras.Numbering.html#1366" class="Bound">x</a> <a id="1368" href="Peras.Numbering.html#1368" class="Bound">y</a> <a id="1370" class="Symbol">=</a> <a id="1372" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="1386" href="Peras.Numbering.html#1366" class="Bound">x</a> <a id="1388" href="Haskell.Prim.Eq.html#453" class="Field Operator">==</a> <a id="1391" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="1405" href="Peras.Numbering.html#1368" class="Bound">y</a>

  <a id="iSlotNumberOrd"></a><a id="1410" href="Peras.Numbering.html#1410" class="Function">iSlotNumberOrd</a> <a id="1425" class="Symbol">:</a> <a id="1427" href="Haskell.Prim.Ord.html#1003" class="Record">Ord</a> <a id="1431" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a>
  <a id="1444" href="Peras.Numbering.html#1410" class="Function">iSlotNumberOrd</a> <a id="1459" class="Symbol">=</a> <a id="1461" href="Haskell.Prim.Ord.html#1332" class="Function">ordFromCompare</a> <a id="1476" class="Symbol">λ</a> <a id="1478" href="Peras.Numbering.html#1478" class="Bound">x</a> <a id="1480" href="Peras.Numbering.html#1480" class="Bound">y</a> <a id="1482" class="Symbol">→</a> <a id="1484" href="Haskell.Prim.Ord.html#1041" class="Field">compare</a> <a id="1492" class="Symbol">(</a><a id="1493" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="1507" href="Peras.Numbering.html#1478" class="Bound">x</a><a id="1508" class="Symbol">)</a> <a id="1510" class="Symbol">(</a><a id="1511" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="1525" href="Peras.Numbering.html#1480" class="Bound">y</a><a id="1526" class="Symbol">)</a>

  <a id="iNumberSlotNumber"></a><a id="1531" href="Peras.Numbering.html#1531" class="Function">iNumberSlotNumber</a> <a id="1549" class="Symbol">:</a> <a id="1551" href="Agda.Builtin.FromNat.html#196" class="Record">Number</a> <a id="1558" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a>
  <a id="1571" href="Peras.Numbering.html#1531" class="Function">iNumberSlotNumber</a> <a id="1589" class="Symbol">.</a><a id="1590" href="Agda.Builtin.FromNat.html#252" class="Field">Number.Constraint</a> <a id="1608" class="Symbol">_</a> <a id="1610" class="Symbol">=</a> <a id="1612" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="1616" href="Peras.Numbering.html#1531" class="Function">iNumberSlotNumber</a> <a id="1634" class="Symbol">.</a><a id="1635" href="Agda.Builtin.FromNat.html#281" class="Field">fromNat</a> <a id="1643" href="Peras.Numbering.html#1643" class="Bound">n</a> <a id="1645" class="Symbol">=</a> <a id="1647" href="Peras.Numbering.html#1072" class="InductiveConstructor">MkSlotNumber</a> <a id="1660" href="Peras.Numbering.html#1643" class="Bound">n</a>
</pre>
<!--
<pre class="Agda"><a id="1680" class="Symbol">{-#</a> <a id="1684" class="Keyword">FOREIGN</a> <a id="1692" class="Pragma">AGDA2HS</a>
<a id="1700" class="Pragma">--</a> <a id="1703" class="Pragma">Use</a> <a id="1707" class="Pragma">`Integer`</a> <a id="1717" class="Pragma">for</a> <a id="1721" class="Pragma">compatibility</a> <a id="1735" class="Pragma">with</a> <a id="1740" class="Pragma">`MAlonzo`.</a>
<a id="1751" class="Pragma">newtype</a> <a id="1759" class="Pragma">SlotNumber</a> <a id="1770" class="Pragma">=</a> <a id="1772" class="Pragma">MkSlotNumber</a> <a id="1785" class="Pragma">{getSlotNumber</a> <a id="1800" class="Pragma">::</a> <a id="1803" class="Pragma">Integer}</a>
  <a id="1814" class="Pragma">deriving</a> <a id="1823" class="Pragma">(Generic,</a> <a id="1833" class="Pragma">Eq,</a> <a id="1837" class="Pragma">Ord,</a> <a id="1842" class="Pragma">Read,</a> <a id="1848" class="Pragma">Show)</a>
<a id="1854" class="Symbol">#-}</a>

<a id="1859" class="Symbol">{-#</a> <a id="1863" class="Keyword">COMPILE</a> <a id="1871" class="Keyword">GHC</a> <a id="1875" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a> <a id="1886" class="Pragma">=</a> <a id="1888" class="Pragma">data</a> <a id="1893" class="Pragma">G.SlotNumber</a> <a id="1906" class="Pragma">(G.MkSlotNumber)</a> <a id="1923" class="Symbol">#-}</a>
</pre>-->
<h2 id="rounds">Rounds</h2>
<pre class="Agda"><a id="1955" class="Keyword">record</a> <a id="RoundNumber"></a><a id="1962" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a> <a id="1974" class="Symbol">:</a> <a id="1976" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1980" class="Keyword">where</a>
  <a id="1988" class="Keyword">constructor</a> <a id="MkRoundNumber"></a><a id="2000" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a>
  <a id="2016" class="Keyword">field</a> <a id="RoundNumber.getRoundNumber"></a><a id="2022" href="Peras.Numbering.html#2022" class="Field">getRoundNumber</a> <a id="2037" class="Symbol">:</a> <a id="2039" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="RoundNumber.prev"></a><a id="2044" href="Peras.Numbering.html#2044" class="Function">prev</a> <a id="2049" class="Symbol">:</a> <a id="2051" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a>
  <a id="2065" href="Peras.Numbering.html#2044" class="Function">prev</a> <a id="2070" class="Symbol">=</a> <a id="2072" class="Keyword">record</a> <a id="2079" class="Symbol">{</a> <a id="2081" href="Peras.Numbering.html#2022" class="Field">getRoundNumber</a> <a id="2096" class="Symbol">=</a> <a id="2098" href="Data.Nat.Base.html#5266" class="Function">pred</a> <a id="2103" href="Peras.Numbering.html#2022" class="Field">getRoundNumber</a> <a id="2118" class="Symbol">}</a>

<a id="2121" class="Keyword">open</a> <a id="2126" href="Peras.Numbering.html#1962" class="Module">RoundNumber</a> <a id="2138" class="Keyword">public</a>

<a id="2146" class="Keyword">instance</a>
  <a id="iRoundNumberEq"></a><a id="2157" href="Peras.Numbering.html#2157" class="Function">iRoundNumberEq</a> <a id="2172" class="Symbol">:</a> <a id="2174" href="Haskell.Prim.Eq.html#401" class="Record">Eq</a> <a id="2177" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a>
  <a id="2191" href="Peras.Numbering.html#2157" class="Function">iRoundNumberEq</a> <a id="2206" class="Symbol">.</a><a id="2207" href="Haskell.Prim.Eq.html#453" class="Field Operator">_==_</a> <a id="2212" href="Peras.Numbering.html#2212" class="Bound">x</a> <a id="2214" href="Peras.Numbering.html#2214" class="Bound">y</a> <a id="2216" class="Symbol">=</a> <a id="2218" href="Peras.Numbering.html#2022" class="Field">getRoundNumber</a> <a id="2233" href="Peras.Numbering.html#2212" class="Bound">x</a> <a id="2235" href="Haskell.Prim.Eq.html#453" class="Field Operator">==</a> <a id="2238" href="Peras.Numbering.html#2022" class="Field">getRoundNumber</a> <a id="2253" href="Peras.Numbering.html#2214" class="Bound">y</a>

  <a id="iRoundNumberOrd"></a><a id="2258" href="Peras.Numbering.html#2258" class="Function">iRoundNumberOrd</a> <a id="2274" class="Symbol">:</a> <a id="2276" href="Haskell.Prim.Ord.html#1003" class="Record">Ord</a> <a id="2280" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a>
  <a id="2294" href="Peras.Numbering.html#2258" class="Function">iRoundNumberOrd</a> <a id="2310" class="Symbol">=</a> <a id="2312" href="Haskell.Prim.Ord.html#1332" class="Function">ordFromCompare</a> <a id="2327" class="Symbol">λ</a> <a id="2329" href="Peras.Numbering.html#2329" class="Bound">x</a> <a id="2331" href="Peras.Numbering.html#2331" class="Bound">y</a> <a id="2333" class="Symbol">→</a> <a id="2335" href="Haskell.Prim.Ord.html#1041" class="Field">compare</a> <a id="2343" class="Symbol">(</a><a id="2344" href="Peras.Numbering.html#2022" class="Field">getRoundNumber</a> <a id="2359" href="Peras.Numbering.html#2329" class="Bound">x</a><a id="2360" class="Symbol">)</a> <a id="2362" class="Symbol">(</a><a id="2363" href="Peras.Numbering.html#2022" class="Field">getRoundNumber</a> <a id="2378" href="Peras.Numbering.html#2331" class="Bound">y</a><a id="2379" class="Symbol">)</a>

  <a id="iNumberRoundNumber"></a><a id="2384" href="Peras.Numbering.html#2384" class="Function">iNumberRoundNumber</a> <a id="2403" class="Symbol">:</a> <a id="2405" href="Agda.Builtin.FromNat.html#196" class="Record">Number</a> <a id="2412" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a>
  <a id="2426" href="Peras.Numbering.html#2384" class="Function">iNumberRoundNumber</a> <a id="2445" class="Symbol">.</a><a id="2446" href="Agda.Builtin.FromNat.html#252" class="Field">Number.Constraint</a> <a id="2464" class="Symbol">_</a> <a id="2466" class="Symbol">=</a> <a id="2468" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="2472" href="Peras.Numbering.html#2384" class="Function">iNumberRoundNumber</a> <a id="2491" class="Symbol">.</a><a id="2492" href="Agda.Builtin.FromNat.html#281" class="Field">fromNat</a> <a id="2500" href="Peras.Numbering.html#2500" class="Bound">n</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a> <a id="2518" href="Peras.Numbering.html#2500" class="Bound">n</a>
</pre>
<!--
<pre class="Agda"><a id="2538" class="Symbol">{-#</a> <a id="2542" class="Keyword">FOREIGN</a> <a id="2550" class="Pragma">AGDA2HS</a>
<a id="2558" class="Pragma">--</a> <a id="2561" class="Pragma">Use</a> <a id="2565" class="Pragma">`Integer`</a> <a id="2575" class="Pragma">for</a> <a id="2579" class="Pragma">compatibility</a> <a id="2593" class="Pragma">with</a> <a id="2598" class="Pragma">`MAlonzo`.</a>
<a id="2609" class="Pragma">newtype</a> <a id="2617" class="Pragma">RoundNumber</a> <a id="2629" class="Pragma">=</a> <a id="2631" class="Pragma">MkRoundNumber</a> <a id="2645" class="Pragma">{getRoundNumber</a> <a id="2661" class="Pragma">::</a> <a id="2664" class="Pragma">Integer}</a>
  <a id="2675" class="Pragma">deriving</a> <a id="2684" class="Pragma">(Generic,</a> <a id="2694" class="Pragma">Eq,</a> <a id="2698" class="Pragma">Ord,</a> <a id="2703" class="Pragma">Read,</a> <a id="2709" class="Pragma">Show)</a>
<a id="2715" class="Symbol">#-}</a>

<a id="2720" class="Symbol">{-#</a> <a id="2724" class="Keyword">COMPILE</a> <a id="2732" class="Keyword">GHC</a> <a id="2736" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a> <a id="2748" class="Pragma">=</a> <a id="2750" class="Pragma">data</a> <a id="2755" class="Pragma">G.RoundNumber</a> <a id="2769" class="Pragma">(G.MkRoundNumber)</a> <a id="2787" class="Symbol">#-}</a>

<a id="2792" class="Keyword">private</a>
  <a id="div"></a><a id="2802" href="Peras.Numbering.html#2802" class="Function">div</a> <a id="2806" class="Symbol">:</a> <a id="2808" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2810" class="Symbol">→</a> <a id="2812" class="Symbol">(</a><a id="2813" href="Peras.Numbering.html#2813" class="Bound">n</a> <a id="2815" class="Symbol">:</a> <a id="2817" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2818" class="Symbol">)</a> <a id="2820" class="Symbol">→</a> <a id="2822" class="Symbol">@</a><a id="2823" class="Symbol">0</a> <a id="2825" class="Symbol">⦃</a> <a id="2827" href="Data.Nat.Base.html#3260" class="Record">NonZero</a> <a id="2835" href="Peras.Numbering.html#2813" class="Bound">n</a> <a id="2837" class="Symbol">⦄</a> <a id="2839" class="Symbol">→</a> <a id="2841" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2845" href="Peras.Numbering.html#2802" class="Function">div</a> <a id="2849" href="Peras.Numbering.html#2849" class="Bound">a</a> <a id="2851" href="Peras.Numbering.html#2851" class="Bound">b</a> <a id="2853" class="Symbol">⦃</a> <a id="2855" href="Peras.Numbering.html#2855" class="Bound">prf</a> <a id="2859" class="Symbol">⦄</a> <a id="2861" class="Symbol">=</a> <a id="2863" href="Data.Nat.Base.html#7096" class="Function Operator">_/_</a> <a id="2867" href="Peras.Numbering.html#2849" class="Bound">a</a> <a id="2869" href="Peras.Numbering.html#2851" class="Bound">b</a> <a id="2871" class="Symbol">⦃</a> <a id="2873" href="Peras.Util.html#680" class="Function">uneraseNonZero</a> <a id="2888" href="Peras.Numbering.html#2855" class="Bound">prf</a> <a id="2892" class="Symbol">⦄</a>

<a id="2895" class="Keyword">private</a>
  <a id="mod"></a><a id="2905" href="Peras.Numbering.html#2905" class="Function">mod</a> <a id="2909" class="Symbol">:</a> <a id="2911" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2913" class="Symbol">→</a> <a id="2915" class="Symbol">(</a><a id="2916" href="Peras.Numbering.html#2916" class="Bound">n</a> <a id="2918" class="Symbol">:</a> <a id="2920" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2921" class="Symbol">)</a> <a id="2923" class="Symbol">→</a> <a id="2925" class="Symbol">@</a><a id="2926" class="Symbol">0</a> <a id="2928" class="Symbol">⦃</a> <a id="2930" href="Data.Nat.Base.html#3260" class="Record">NonZero</a> <a id="2938" href="Peras.Numbering.html#2916" class="Bound">n</a> <a id="2940" class="Symbol">⦄</a> <a id="2942" class="Symbol">→</a> <a id="2944" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2948" href="Peras.Numbering.html#2905" class="Function">mod</a> <a id="2952" href="Peras.Numbering.html#2952" class="Bound">a</a> <a id="2954" href="Peras.Numbering.html#2954" class="Bound">b</a> <a id="2956" class="Symbol">⦃</a> <a id="2958" href="Peras.Numbering.html#2958" class="Bound">prf</a> <a id="2962" class="Symbol">⦄</a> <a id="2964" class="Symbol">=</a> <a id="2966" href="Data.Nat.Base.html#7279" class="Function Operator">_%_</a> <a id="2970" href="Peras.Numbering.html#2952" class="Bound">a</a> <a id="2972" href="Peras.Numbering.html#2954" class="Bound">b</a> <a id="2974" class="Symbol">⦃</a> <a id="2976" href="Peras.Util.html#680" class="Function">uneraseNonZero</a> <a id="2991" href="Peras.Numbering.html#2958" class="Bound">prf</a> <a id="2995" class="Symbol">⦄</a>
</pre>-->
<pre class="Agda"><a id="_≟-RoundNumber_"></a><a id="3014" href="Peras.Numbering.html#3014" class="Function Operator">_≟-RoundNumber_</a> <a id="3030" class="Symbol">:</a> <a id="3032" href="Relation.Binary.Definitions.html#6469" class="Function">DecidableEquality</a> <a id="3050" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a>
<a id="3062" class="Symbol">(</a><a id="3063" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a> <a id="3077" href="Peras.Numbering.html#3077" class="Bound">r₁</a><a id="3079" class="Symbol">)</a> <a id="3081" href="Peras.Numbering.html#3014" class="Function Operator">≟-RoundNumber</a> <a id="3095" class="Symbol">(</a><a id="3096" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a> <a id="3110" href="Peras.Numbering.html#3110" class="Bound">r₂</a><a id="3112" class="Symbol">)</a> <a id="3114" class="Keyword">with</a> <a id="3119" href="Peras.Numbering.html#3077" class="Bound">r₁</a> <a id="3122" href="Data.Nat.Properties.html#3311" class="Function Operator">≟</a> <a id="3124" href="Peras.Numbering.html#3110" class="Bound">r₂</a>
<a id="3127" class="Symbol">...</a> <a id="3131" class="Symbol">|</a> <a id="3133" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3137" href="Peras.Numbering.html#3137" class="Bound">p</a> <a id="3139" class="Symbol">=</a> <a id="3141" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="3145" class="Symbol">(</a><a id="3146" href="Haskell.Law.Equality.html#226" class="Function">cong</a> <a id="3151" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a> <a id="3165" href="Peras.Numbering.html#3137" class="Bound">p</a><a id="3166" class="Symbol">)</a>
<a id="3168" class="Symbol">...</a> <a id="3172" class="Symbol">|</a> <a id="3174" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3177" href="Peras.Numbering.html#3177" class="Bound">¬p</a> <a id="3180" class="Symbol">=</a>  <a id="3183" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="3186" class="Symbol">(</a><a id="3187" href="Peras.Numbering.html#3177" class="Bound">¬p</a> <a id="3190" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3192" href="Haskell.Law.Equality.html#226" class="Function">cong</a> <a id="3197" href="Peras.Numbering.html#2022" class="Field">getRoundNumber</a><a id="3211" class="Symbol">)</a>

</pre>
<pre class="Agda"><a id="roundToSlot"></a><a id="3227" href="Peras.Numbering.html#3227" class="Function">roundToSlot</a> <a id="3239" class="Symbol">:</a> <a id="3241" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="3243" class="Symbol">→</a> <a id="3245" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a> <a id="3257" class="Symbol">→</a> <a id="3259" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a>
<a id="3270" href="Peras.Numbering.html#3227" class="Function">roundToSlot</a> <a id="3282" href="Peras.Numbering.html#3282" class="Bound">T</a> <a id="3284" class="Symbol">(</a><a id="3285" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a> <a id="3299" href="Peras.Numbering.html#3299" class="Bound">r</a><a id="3300" class="Symbol">)</a> <a id="3302" class="Symbol">=</a> <a id="3304" href="Peras.Numbering.html#1072" class="InductiveConstructor">MkSlotNumber</a> <a id="3317" class="Symbol">(</a><a id="3318" href="Peras.Numbering.html#3299" class="Bound">r</a> <a id="3320" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3322" href="Peras.Numbering.html#3282" class="Bound">T</a><a id="3323" class="Symbol">)</a>

<a id="slotToRound"></a><a id="3326" href="Peras.Numbering.html#3326" class="Function">slotToRound</a> <a id="3338" class="Symbol">:</a> <a id="3340" href="Peras.Conformance.Params.html#676" class="Record">PerasParams</a> <a id="3352" class="Symbol">→</a> <a id="3354" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a> <a id="3365" class="Symbol">→</a> <a id="3367" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a>
<a id="3379" href="Peras.Numbering.html#3326" class="Function">slotToRound</a> <a id="3391" href="Peras.Numbering.html#3391" class="Bound">protocol</a> <a id="3400" class="Symbol">(</a><a id="3401" href="Peras.Numbering.html#1072" class="InductiveConstructor">MkSlotNumber</a> <a id="3414" href="Peras.Numbering.html#3414" class="Bound">n</a><a id="3415" class="Symbol">)</a> <a id="3417" class="Symbol">=</a> <a id="3419" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a> <a id="3433" class="Symbol">(</a><a id="3434" href="Peras.Numbering.html#2802" class="Function">div</a> <a id="3438" href="Peras.Numbering.html#3414" class="Bound">n</a> <a id="3440" class="Symbol">(</a><a id="3441" href="Peras.Conformance.Params.html#740" class="Field">perasU</a> <a id="3448" href="Peras.Numbering.html#3391" class="Bound">protocol</a><a id="3456" class="Symbol">))</a>

<a id="slotInRound"></a><a id="3460" href="Peras.Numbering.html#3460" class="Function">slotInRound</a> <a id="3472" class="Symbol">:</a> <a id="3474" href="Peras.Conformance.Params.html#676" class="Record">PerasParams</a> <a id="3486" class="Symbol">→</a> <a id="3488" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a> <a id="3499" class="Symbol">→</a> <a id="3501" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a>
<a id="3512" href="Peras.Numbering.html#3460" class="Function">slotInRound</a> <a id="3524" href="Peras.Numbering.html#3524" class="Bound">protocol</a> <a id="3533" href="Peras.Numbering.html#3533" class="Bound">slot</a> <a id="3538" class="Symbol">=</a> <a id="3540" href="Peras.Numbering.html#1072" class="InductiveConstructor">MkSlotNumber</a> <a id="3553" class="Symbol">(</a><a id="3554" href="Peras.Numbering.html#2905" class="Function">mod</a> <a id="3558" class="Symbol">(</a><a id="3559" href="Peras.Numbering.html#1093" class="Field">getSlotNumber</a> <a id="3573" href="Peras.Numbering.html#3533" class="Bound">slot</a><a id="3577" class="Symbol">)</a> <a id="3579" class="Symbol">(</a><a id="3580" href="Peras.Conformance.Params.html#740" class="Field">perasU</a> <a id="3587" href="Peras.Numbering.html#3524" class="Bound">protocol</a><a id="3595" class="Symbol">))</a>

<a id="nextSlot"></a><a id="3599" href="Peras.Numbering.html#3599" class="Function">nextSlot</a> <a id="3608" class="Symbol">:</a> <a id="3610" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a> <a id="3621" class="Symbol">→</a> <a id="3623" href="Peras.Numbering.html#1035" class="Record">SlotNumber</a>
<a id="3634" href="Peras.Numbering.html#3599" class="Function">nextSlot</a> <a id="3643" class="Symbol">(</a><a id="3644" href="Peras.Numbering.html#1072" class="InductiveConstructor">MkSlotNumber</a> <a id="3657" href="Peras.Numbering.html#3657" class="Bound">n</a><a id="3658" class="Symbol">)</a> <a id="3660" class="Symbol">=</a> <a id="3662" href="Peras.Numbering.html#1072" class="InductiveConstructor">MkSlotNumber</a> <a id="3675" class="Symbol">(</a><a id="3676" class="Number">1</a> <a id="3678" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3680" href="Peras.Numbering.html#3657" class="Bound">n</a><a id="3681" class="Symbol">)</a>

<a id="nextRound"></a><a id="3684" href="Peras.Numbering.html#3684" class="Function">nextRound</a> <a id="3694" class="Symbol">:</a> <a id="3696" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a> <a id="3708" class="Symbol">→</a> <a id="3710" href="Peras.Numbering.html#1962" class="Record">RoundNumber</a>
<a id="3722" href="Peras.Numbering.html#3684" class="Function">nextRound</a> <a id="3732" class="Symbol">(</a><a id="3733" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a> <a id="3747" href="Peras.Numbering.html#3747" class="Bound">n</a><a id="3748" class="Symbol">)</a> <a id="3750" class="Symbol">=</a> <a id="3752" href="Peras.Numbering.html#2000" class="InductiveConstructor">MkRoundNumber</a> <a id="3766" class="Symbol">(</a><a id="3767" class="Number">1</a> <a id="3769" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3771" href="Peras.Numbering.html#3747" class="Bound">n</a><a id="3772" class="Symbol">)</a>
</pre>
<!--
<pre class="Agda"><a id="3792" class="Symbol">{-#</a> <a id="3796" class="Keyword">COMPILE</a> <a id="3804" class="Keyword">AGDA2HS</a> <a id="3812" href="Peras.Numbering.html#3326" class="Function">slotToRound</a> <a id="3824" class="Symbol">#-}</a>
<a id="3828" class="Symbol">{-#</a> <a id="3832" class="Keyword">COMPILE</a> <a id="3840" class="Keyword">AGDA2HS</a> <a id="3848" href="Peras.Numbering.html#3460" class="Function">slotInRound</a> <a id="3860" class="Symbol">#-}</a>
<a id="3864" class="Symbol">{-#</a> <a id="3868" class="Keyword">COMPILE</a> <a id="3876" class="Keyword">AGDA2HS</a> <a id="3884" href="Peras.Numbering.html#3599" class="Function">nextSlot</a> <a id="3893" class="Symbol">#-}</a>
<a id="3897" class="Symbol">{-#</a> <a id="3901" class="Keyword">COMPILE</a> <a id="3909" class="Keyword">AGDA2HS</a> <a id="3917" href="Peras.Numbering.html#3684" class="Function">nextRound</a> <a id="3927" class="Symbol">#-}</a>
</pre>-->
</body>
</html>
