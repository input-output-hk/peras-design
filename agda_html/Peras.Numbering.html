<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Peras.Numbering</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="Agda.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<pre class="Agda"><a id="9" class="Keyword">module</a> <a id="16" href="Peras.Numbering.html" class="Module">Peras.Numbering</a> <a id="32" class="Keyword">where</a>
</pre>
<!--
<pre class="Agda"><a id="56" class="Keyword">open</a> <a id="61" class="Keyword">import</a> <a id="68" href="Agda.Builtin.FromNat.html" class="Module">Agda.Builtin.FromNat</a>
<a id="89" class="Keyword">open</a> <a id="94" class="Keyword">import</a> <a id="101" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="110" class="Keyword">using</a> <a id="116" class="Symbol">(</a><a id="117" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="118" class="Symbol">;</a> <a id="120" href="Data.Nat.Base.html#5266" class="Function">pred</a><a id="124" class="Symbol">;</a> <a id="126" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a><a id="129" class="Symbol">;</a> <a id="131" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">_+_</a><a id="134" class="Symbol">;</a> <a id="136" href="Data.Nat.Base.html#4456" class="Primitive Operator">_∸_</a><a id="139" class="Symbol">;</a> <a id="141" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">_*_</a><a id="144" class="Symbol">;</a> <a id="146" href="Data.Nat.Base.html#7096" class="Function Operator">_/_</a><a id="149" class="Symbol">;</a> <a id="151" href="Data.Nat.Base.html#7279" class="Function Operator">_%_</a><a id="154" class="Symbol">;</a> <a id="156" href="Data.Nat.Base.html#3260" class="Record">NonZero</a><a id="163" class="Symbol">)</a>
<a id="165" class="Keyword">open</a> <a id="170" class="Keyword">import</a> <a id="177" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="197" class="Keyword">using</a> <a id="203" class="Symbol">(</a><a id="204" href="Data.Nat.Properties.html#3311" class="Function Operator">_≟_</a><a id="207" class="Symbol">)</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="231" class="Keyword">using</a> <a id="237" class="Symbol">(</a><a id="238" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a><a id="239" class="Symbol">)</a>
<a id="241" class="Keyword">open</a> <a id="246" class="Keyword">import</a> <a id="253" href="Function.Base.html" class="Module">Function.Base</a> <a id="267" class="Keyword">using</a> <a id="273" class="Symbol">(</a><a id="274" href="Function.Base.html#1115" class="Function Operator">_∘_</a><a id="277" class="Symbol">)</a>
<a id="279" class="Keyword">open</a> <a id="284" class="Keyword">import</a> <a id="291" href="Haskell.Prelude.html" class="Module">Haskell.Prelude</a> <a id="307" class="Keyword">using</a> <a id="313" class="Symbol">(</a><a id="314" href="Haskell.Prim.Eq.html#401" class="Record">Eq</a><a id="316" class="Symbol">;</a> <a id="318" href="Haskell.Prim.Ord.html#1003" class="Record">Ord</a><a id="321" class="Symbol">;</a> <a id="323" href="Haskell.Prim.Ord.html#1332" class="Function">ordFromCompare</a><a id="337" class="Symbol">;</a> <a id="339" href="Haskell.Prim.Ord.html#1041" class="Field">compare</a><a id="346" class="Symbol">;</a> <a id="348" href="Haskell.Prim.Eq.html#453" class="Field Operator">_==_</a><a id="352" class="Symbol">)</a>
<a id="354" class="Keyword">open</a> <a id="359" class="Keyword">import</a> <a id="366" href="Haskell.Law.Equality.html" class="Module">Haskell.Law.Equality</a> <a id="387" class="Keyword">using</a> <a id="393" class="Symbol">(</a><a id="394" href="Haskell.Law.Equality.html#226" class="Function">cong</a><a id="398" class="Symbol">)</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="428" class="Keyword">using</a> <a id="434" class="Symbol">(</a><a id="435" href="Relation.Binary.Definitions.html#6469" class="Function">DecidableEquality</a><a id="452" class="Symbol">)</a>
<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="483" class="Keyword">using</a> <a id="489" class="Symbol">(</a><a id="490" href="Relation.Nullary.Negation.Core.html#698" class="Function Operator">¬_</a><a id="492" class="Symbol">;</a> <a id="494" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a><a id="497" class="Symbol">;</a> <a id="499" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a><a id="501" class="Symbol">)</a>
<a id="503" class="Keyword">open</a> <a id="508" class="Keyword">import</a> <a id="515" href="Peras.Conformance.Params.html" class="Module">Peras.Conformance.Params</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Peras.Util.html" class="Module">Peras.Util</a>

<a id="564" class="Symbol">{-#</a> <a id="568" class="Keyword">FOREIGN</a> <a id="576" class="Pragma">AGDA2HS</a>
<a id="584" class="Symbol">{-#</a> <a id="588" class="Pragma">LANGUAGE</a> <a id="597" class="Pragma">DeriveGeneric</a> <a id="611" class="Symbol">#-}</a>
<a id="615" class="Pragma">import</a> <a id="622" class="Pragma">GHC.Generics</a> <a id="635" class="Pragma">(Generic)</a>
<a id="645" class="Symbol">#-}</a>

<a id="650" class="Symbol">{-#</a> <a id="654" class="Keyword">FOREIGN</a> <a id="662" class="Pragma">GHC</a>
<a id="666" class="Pragma">import</a> <a id="673" class="Pragma">qualified</a> <a id="683" class="Pragma">Peras.Numbering</a> <a id="699" class="Pragma">as</a> <a id="702" class="Pragma">G</a>
<a id="704" class="Symbol">#-}</a>
</pre>-->
<h2 id="slots">Slots</h2>
<pre class="Agda"><a id="735" class="Keyword">record</a> <a id="SlotNumber"></a><a id="742" href="Peras.Numbering.html#742" class="Record">SlotNumber</a> <a id="753" class="Symbol">:</a> <a id="755" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="759" class="Keyword">where</a>
  <a id="767" class="Keyword">constructor</a> <a id="MkSlotNumber"></a><a id="779" href="Peras.Numbering.html#779" class="InductiveConstructor">MkSlotNumber</a>
  <a id="794" class="Keyword">field</a> <a id="SlotNumber.getSlotNumber"></a><a id="800" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="814" class="Symbol">:</a> <a id="816" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="SlotNumber.next"></a><a id="821" href="Peras.Numbering.html#821" class="Function">next</a> <a id="826" class="Symbol">:</a> <a id="828" href="Peras.Numbering.html#742" class="Record">SlotNumber</a>
  <a id="841" href="Peras.Numbering.html#821" class="Function">next</a> <a id="846" class="Symbol">=</a> <a id="848" class="Keyword">record</a> <a id="855" class="Symbol">{</a><a id="856" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="870" class="Symbol">=</a> <a id="872" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="876" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a><a id="889" class="Symbol">}</a>

  <a id="SlotNumber._earlierBy_"></a><a id="894" href="Peras.Numbering.html#894" class="Function Operator">_earlierBy_</a>  <a id="907" class="Symbol">:</a> <a id="909" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="911" class="Symbol">→</a> <a id="913" href="Peras.Numbering.html#742" class="Record">SlotNumber</a>
  <a id="926" href="Peras.Numbering.html#894" class="Function Operator">_earlierBy_</a> <a id="938" href="Peras.Numbering.html#938" class="Bound">n</a> <a id="940" class="Symbol">=</a> <a id="942" class="Keyword">record</a> <a id="949" class="Symbol">{</a><a id="950" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="964" class="Symbol">=</a> <a id="966" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="980" href="Data.Nat.Base.html#4456" class="Primitive Operator">∸</a> <a id="982" href="Peras.Numbering.html#938" class="Bound">n</a><a id="983" class="Symbol">}</a>

<a id="986" class="Keyword">open</a> <a id="991" href="Peras.Numbering.html#742" class="Module">SlotNumber</a> <a id="1002" class="Keyword">public</a>

<a id="1010" class="Keyword">instance</a>
  <a id="iSlotNumberEq"></a><a id="1021" href="Peras.Numbering.html#1021" class="Function">iSlotNumberEq</a> <a id="1035" class="Symbol">:</a> <a id="1037" href="Haskell.Prim.Eq.html#401" class="Record">Eq</a> <a id="1040" href="Peras.Numbering.html#742" class="Record">SlotNumber</a>
  <a id="1053" href="Peras.Numbering.html#1021" class="Function">iSlotNumberEq</a> <a id="1067" class="Symbol">.</a><a id="1068" href="Haskell.Prim.Eq.html#453" class="Field Operator">_==_</a> <a id="1073" href="Peras.Numbering.html#1073" class="Bound">x</a> <a id="1075" href="Peras.Numbering.html#1075" class="Bound">y</a> <a id="1077" class="Symbol">=</a> <a id="1079" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="1093" href="Peras.Numbering.html#1073" class="Bound">x</a> <a id="1095" href="Haskell.Prim.Eq.html#453" class="Field Operator">==</a> <a id="1098" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="1112" href="Peras.Numbering.html#1075" class="Bound">y</a>

  <a id="iSlotNumberOrd"></a><a id="1117" href="Peras.Numbering.html#1117" class="Function">iSlotNumberOrd</a> <a id="1132" class="Symbol">:</a> <a id="1134" href="Haskell.Prim.Ord.html#1003" class="Record">Ord</a> <a id="1138" href="Peras.Numbering.html#742" class="Record">SlotNumber</a>
  <a id="1151" href="Peras.Numbering.html#1117" class="Function">iSlotNumberOrd</a> <a id="1166" class="Symbol">=</a> <a id="1168" href="Haskell.Prim.Ord.html#1332" class="Function">ordFromCompare</a> <a id="1183" class="Symbol">λ</a> <a id="1185" href="Peras.Numbering.html#1185" class="Bound">x</a> <a id="1187" href="Peras.Numbering.html#1187" class="Bound">y</a> <a id="1189" class="Symbol">→</a> <a id="1191" href="Haskell.Prim.Ord.html#1041" class="Field">compare</a> <a id="1199" class="Symbol">(</a><a id="1200" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="1214" href="Peras.Numbering.html#1185" class="Bound">x</a><a id="1215" class="Symbol">)</a> <a id="1217" class="Symbol">(</a><a id="1218" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="1232" href="Peras.Numbering.html#1187" class="Bound">y</a><a id="1233" class="Symbol">)</a>

  <a id="iNumberSlotNumber"></a><a id="1238" href="Peras.Numbering.html#1238" class="Function">iNumberSlotNumber</a> <a id="1256" class="Symbol">:</a> <a id="1258" href="Agda.Builtin.FromNat.html#196" class="Record">Number</a> <a id="1265" href="Peras.Numbering.html#742" class="Record">SlotNumber</a>
  <a id="1278" href="Peras.Numbering.html#1238" class="Function">iNumberSlotNumber</a> <a id="1296" class="Symbol">.</a><a id="1297" href="Agda.Builtin.FromNat.html#252" class="Field">Number.Constraint</a> <a id="1315" class="Symbol">_</a> <a id="1317" class="Symbol">=</a> <a id="1319" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="1323" href="Peras.Numbering.html#1238" class="Function">iNumberSlotNumber</a> <a id="1341" class="Symbol">.</a><a id="1342" href="Agda.Builtin.FromNat.html#281" class="Field">fromNat</a> <a id="1350" href="Peras.Numbering.html#1350" class="Bound">n</a> <a id="1352" class="Symbol">=</a> <a id="1354" href="Peras.Numbering.html#779" class="InductiveConstructor">MkSlotNumber</a> <a id="1367" href="Peras.Numbering.html#1350" class="Bound">n</a>
</pre>
<!--
<pre class="Agda"><a id="1387" class="Symbol">{-#</a> <a id="1391" class="Keyword">FOREIGN</a> <a id="1399" class="Pragma">AGDA2HS</a>
<a id="1407" class="Pragma">--</a> <a id="1410" class="Pragma">Use</a> <a id="1414" class="Pragma">`Integer`</a> <a id="1424" class="Pragma">for</a> <a id="1428" class="Pragma">compatibility</a> <a id="1442" class="Pragma">with</a> <a id="1447" class="Pragma">`MAlonzo`.</a>
<a id="1458" class="Pragma">newtype</a> <a id="1466" class="Pragma">SlotNumber</a> <a id="1477" class="Pragma">=</a> <a id="1479" class="Pragma">MkSlotNumber</a> <a id="1492" class="Pragma">{getSlotNumber</a> <a id="1507" class="Pragma">::</a> <a id="1510" class="Pragma">Integer}</a>
  <a id="1521" class="Pragma">deriving</a> <a id="1530" class="Pragma">(Generic,</a> <a id="1540" class="Pragma">Eq,</a> <a id="1544" class="Pragma">Ord,</a> <a id="1549" class="Pragma">Read,</a> <a id="1555" class="Pragma">Show)</a>
<a id="1561" class="Symbol">#-}</a>

<a id="1566" class="Symbol">{-#</a> <a id="1570" class="Keyword">COMPILE</a> <a id="1578" class="Keyword">GHC</a> <a id="1582" href="Peras.Numbering.html#742" class="Record">SlotNumber</a> <a id="1593" class="Pragma">=</a> <a id="1595" class="Pragma">data</a> <a id="1600" class="Pragma">G.SlotNumber</a> <a id="1613" class="Pragma">(G.MkSlotNumber)</a> <a id="1630" class="Symbol">#-}</a>
</pre>-->
<h2 id="rounds">Rounds</h2>
<pre class="Agda"><a id="1662" class="Keyword">record</a> <a id="RoundNumber"></a><a id="1669" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a> <a id="1681" class="Symbol">:</a> <a id="1683" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1687" class="Keyword">where</a>
  <a id="1695" class="Keyword">constructor</a> <a id="MkRoundNumber"></a><a id="1707" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a>
  <a id="1723" class="Keyword">field</a> <a id="RoundNumber.getRoundNumber"></a><a id="1729" href="Peras.Numbering.html#1729" class="Field">getRoundNumber</a> <a id="1744" class="Symbol">:</a> <a id="1746" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>

  <a id="RoundNumber.prev"></a><a id="1751" href="Peras.Numbering.html#1751" class="Function">prev</a> <a id="1756" class="Symbol">:</a> <a id="1758" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a>
  <a id="1772" href="Peras.Numbering.html#1751" class="Function">prev</a> <a id="1777" class="Symbol">=</a> <a id="1779" class="Keyword">record</a> <a id="1786" class="Symbol">{</a> <a id="1788" href="Peras.Numbering.html#1729" class="Field">getRoundNumber</a> <a id="1803" class="Symbol">=</a> <a id="1805" href="Data.Nat.Base.html#5266" class="Function">pred</a> <a id="1810" href="Peras.Numbering.html#1729" class="Field">getRoundNumber</a> <a id="1825" class="Symbol">}</a>

<a id="1828" class="Keyword">open</a> <a id="1833" href="Peras.Numbering.html#1669" class="Module">RoundNumber</a> <a id="1845" class="Keyword">public</a>

<a id="1853" class="Keyword">instance</a>
  <a id="iRoundNumberEq"></a><a id="1864" href="Peras.Numbering.html#1864" class="Function">iRoundNumberEq</a> <a id="1879" class="Symbol">:</a> <a id="1881" href="Haskell.Prim.Eq.html#401" class="Record">Eq</a> <a id="1884" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a>
  <a id="1898" href="Peras.Numbering.html#1864" class="Function">iRoundNumberEq</a> <a id="1913" class="Symbol">.</a><a id="1914" href="Haskell.Prim.Eq.html#453" class="Field Operator">_==_</a> <a id="1919" href="Peras.Numbering.html#1919" class="Bound">x</a> <a id="1921" href="Peras.Numbering.html#1921" class="Bound">y</a> <a id="1923" class="Symbol">=</a> <a id="1925" href="Peras.Numbering.html#1729" class="Field">getRoundNumber</a> <a id="1940" href="Peras.Numbering.html#1919" class="Bound">x</a> <a id="1942" href="Haskell.Prim.Eq.html#453" class="Field Operator">==</a> <a id="1945" href="Peras.Numbering.html#1729" class="Field">getRoundNumber</a> <a id="1960" href="Peras.Numbering.html#1921" class="Bound">y</a>

  <a id="iRoundNumberOrd"></a><a id="1965" href="Peras.Numbering.html#1965" class="Function">iRoundNumberOrd</a> <a id="1981" class="Symbol">:</a> <a id="1983" href="Haskell.Prim.Ord.html#1003" class="Record">Ord</a> <a id="1987" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a>
  <a id="2001" href="Peras.Numbering.html#1965" class="Function">iRoundNumberOrd</a> <a id="2017" class="Symbol">=</a> <a id="2019" href="Haskell.Prim.Ord.html#1332" class="Function">ordFromCompare</a> <a id="2034" class="Symbol">λ</a> <a id="2036" href="Peras.Numbering.html#2036" class="Bound">x</a> <a id="2038" href="Peras.Numbering.html#2038" class="Bound">y</a> <a id="2040" class="Symbol">→</a> <a id="2042" href="Haskell.Prim.Ord.html#1041" class="Field">compare</a> <a id="2050" class="Symbol">(</a><a id="2051" href="Peras.Numbering.html#1729" class="Field">getRoundNumber</a> <a id="2066" href="Peras.Numbering.html#2036" class="Bound">x</a><a id="2067" class="Symbol">)</a> <a id="2069" class="Symbol">(</a><a id="2070" href="Peras.Numbering.html#1729" class="Field">getRoundNumber</a> <a id="2085" href="Peras.Numbering.html#2038" class="Bound">y</a><a id="2086" class="Symbol">)</a>

  <a id="iNumberRoundNumber"></a><a id="2091" href="Peras.Numbering.html#2091" class="Function">iNumberRoundNumber</a> <a id="2110" class="Symbol">:</a> <a id="2112" href="Agda.Builtin.FromNat.html#196" class="Record">Number</a> <a id="2119" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a>
  <a id="2133" href="Peras.Numbering.html#2091" class="Function">iNumberRoundNumber</a> <a id="2152" class="Symbol">.</a><a id="2153" href="Agda.Builtin.FromNat.html#252" class="Field">Number.Constraint</a> <a id="2171" class="Symbol">_</a> <a id="2173" class="Symbol">=</a> <a id="2175" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="2179" href="Peras.Numbering.html#2091" class="Function">iNumberRoundNumber</a> <a id="2198" class="Symbol">.</a><a id="2199" href="Agda.Builtin.FromNat.html#281" class="Field">fromNat</a> <a id="2207" href="Peras.Numbering.html#2207" class="Bound">n</a> <a id="2209" class="Symbol">=</a> <a id="2211" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a> <a id="2225" href="Peras.Numbering.html#2207" class="Bound">n</a>
</pre>
<!--
<pre class="Agda"><a id="2245" class="Symbol">{-#</a> <a id="2249" class="Keyword">FOREIGN</a> <a id="2257" class="Pragma">AGDA2HS</a>
<a id="2265" class="Pragma">--</a> <a id="2268" class="Pragma">Use</a> <a id="2272" class="Pragma">`Integer`</a> <a id="2282" class="Pragma">for</a> <a id="2286" class="Pragma">compatibility</a> <a id="2300" class="Pragma">with</a> <a id="2305" class="Pragma">`MAlonzo`.</a>
<a id="2316" class="Pragma">newtype</a> <a id="2324" class="Pragma">RoundNumber</a> <a id="2336" class="Pragma">=</a> <a id="2338" class="Pragma">MkRoundNumber</a> <a id="2352" class="Pragma">{getRoundNumber</a> <a id="2368" class="Pragma">::</a> <a id="2371" class="Pragma">Integer}</a>
  <a id="2382" class="Pragma">deriving</a> <a id="2391" class="Pragma">(Generic,</a> <a id="2401" class="Pragma">Eq,</a> <a id="2405" class="Pragma">Ord,</a> <a id="2410" class="Pragma">Read,</a> <a id="2416" class="Pragma">Show)</a>
<a id="2422" class="Symbol">#-}</a>

<a id="2427" class="Symbol">{-#</a> <a id="2431" class="Keyword">COMPILE</a> <a id="2439" class="Keyword">GHC</a> <a id="2443" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a> <a id="2455" class="Pragma">=</a> <a id="2457" class="Pragma">data</a> <a id="2462" class="Pragma">G.RoundNumber</a> <a id="2476" class="Pragma">(G.MkRoundNumber)</a> <a id="2494" class="Symbol">#-}</a>

<a id="2499" class="Keyword">private</a>
  <a id="div"></a><a id="2509" href="Peras.Numbering.html#2509" class="Function">div</a> <a id="2513" class="Symbol">:</a> <a id="2515" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2517" class="Symbol">→</a> <a id="2519" class="Symbol">(</a><a id="2520" href="Peras.Numbering.html#2520" class="Bound">n</a> <a id="2522" class="Symbol">:</a> <a id="2524" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2525" class="Symbol">)</a> <a id="2527" class="Symbol">→</a> <a id="2529" class="Symbol">@</a><a id="2530" class="Symbol">0</a> <a id="2532" class="Symbol">⦃</a> <a id="2534" href="Data.Nat.Base.html#3260" class="Record">NonZero</a> <a id="2542" href="Peras.Numbering.html#2520" class="Bound">n</a> <a id="2544" class="Symbol">⦄</a> <a id="2546" class="Symbol">→</a> <a id="2548" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2552" href="Peras.Numbering.html#2509" class="Function">div</a> <a id="2556" href="Peras.Numbering.html#2556" class="Bound">a</a> <a id="2558" href="Peras.Numbering.html#2558" class="Bound">b</a> <a id="2560" class="Symbol">⦃</a> <a id="2562" href="Peras.Numbering.html#2562" class="Bound">prf</a> <a id="2566" class="Symbol">⦄</a> <a id="2568" class="Symbol">=</a> <a id="2570" href="Data.Nat.Base.html#7096" class="Function Operator">_/_</a> <a id="2574" href="Peras.Numbering.html#2556" class="Bound">a</a> <a id="2576" href="Peras.Numbering.html#2558" class="Bound">b</a> <a id="2578" class="Symbol">⦃</a> <a id="2580" href="Peras.Util.html#115" class="Function">uneraseNonZero</a> <a id="2595" href="Peras.Numbering.html#2562" class="Bound">prf</a> <a id="2599" class="Symbol">⦄</a>

<a id="2602" class="Keyword">private</a>
  <a id="mod"></a><a id="2612" href="Peras.Numbering.html#2612" class="Function">mod</a> <a id="2616" class="Symbol">:</a> <a id="2618" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2620" class="Symbol">→</a> <a id="2622" class="Symbol">(</a><a id="2623" href="Peras.Numbering.html#2623" class="Bound">n</a> <a id="2625" class="Symbol">:</a> <a id="2627" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a><a id="2628" class="Symbol">)</a> <a id="2630" class="Symbol">→</a> <a id="2632" class="Symbol">@</a><a id="2633" class="Symbol">0</a> <a id="2635" class="Symbol">⦃</a> <a id="2637" href="Data.Nat.Base.html#3260" class="Record">NonZero</a> <a id="2645" href="Peras.Numbering.html#2623" class="Bound">n</a> <a id="2647" class="Symbol">⦄</a> <a id="2649" class="Symbol">→</a> <a id="2651" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a>
  <a id="2655" href="Peras.Numbering.html#2612" class="Function">mod</a> <a id="2659" href="Peras.Numbering.html#2659" class="Bound">a</a> <a id="2661" href="Peras.Numbering.html#2661" class="Bound">b</a> <a id="2663" class="Symbol">⦃</a> <a id="2665" href="Peras.Numbering.html#2665" class="Bound">prf</a> <a id="2669" class="Symbol">⦄</a> <a id="2671" class="Symbol">=</a> <a id="2673" href="Data.Nat.Base.html#7279" class="Function Operator">_%_</a> <a id="2677" href="Peras.Numbering.html#2659" class="Bound">a</a> <a id="2679" href="Peras.Numbering.html#2661" class="Bound">b</a> <a id="2681" class="Symbol">⦃</a> <a id="2683" href="Peras.Util.html#115" class="Function">uneraseNonZero</a> <a id="2698" href="Peras.Numbering.html#2665" class="Bound">prf</a> <a id="2702" class="Symbol">⦄</a>
</pre>-->
<pre class="Agda"><a id="_≟-RoundNumber_"></a><a id="2721" href="Peras.Numbering.html#2721" class="Function Operator">_≟-RoundNumber_</a> <a id="2737" class="Symbol">:</a> <a id="2739" href="Relation.Binary.Definitions.html#6469" class="Function">DecidableEquality</a> <a id="2757" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a>
<a id="2769" class="Symbol">(</a><a id="2770" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a> <a id="2784" href="Peras.Numbering.html#2784" class="Bound">r₁</a><a id="2786" class="Symbol">)</a> <a id="2788" href="Peras.Numbering.html#2721" class="Function Operator">≟-RoundNumber</a> <a id="2802" class="Symbol">(</a><a id="2803" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a> <a id="2817" href="Peras.Numbering.html#2817" class="Bound">r₂</a><a id="2819" class="Symbol">)</a> <a id="2821" class="Keyword">with</a> <a id="2826" href="Peras.Numbering.html#2784" class="Bound">r₁</a> <a id="2829" href="Data.Nat.Properties.html#3311" class="Function Operator">≟</a> <a id="2831" href="Peras.Numbering.html#2817" class="Bound">r₂</a>
<a id="2834" class="Symbol">...</a> <a id="2838" class="Symbol">|</a> <a id="2840" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2844" href="Peras.Numbering.html#2844" class="Bound">p</a> <a id="2846" class="Symbol">=</a> <a id="2848" href="Relation.Nullary.Decidable.Core.html#1618" class="InductiveConstructor">yes</a> <a id="2852" class="Symbol">(</a><a id="2853" href="Haskell.Law.Equality.html#226" class="Function">cong</a> <a id="2858" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a> <a id="2872" href="Peras.Numbering.html#2844" class="Bound">p</a><a id="2873" class="Symbol">)</a>
<a id="2875" class="Symbol">...</a> <a id="2879" class="Symbol">|</a> <a id="2881" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2884" href="Peras.Numbering.html#2884" class="Bound">¬p</a> <a id="2887" class="Symbol">=</a>  <a id="2890" href="Relation.Nullary.Decidable.Core.html#1655" class="InductiveConstructor">no</a> <a id="2893" class="Symbol">(</a><a id="2894" href="Peras.Numbering.html#2884" class="Bound">¬p</a> <a id="2897" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="2899" href="Haskell.Law.Equality.html#226" class="Function">cong</a> <a id="2904" href="Peras.Numbering.html#1729" class="Field">getRoundNumber</a><a id="2918" class="Symbol">)</a>

</pre>
<pre class="Agda"><a id="roundToSlot"></a><a id="2934" href="Peras.Numbering.html#2934" class="Function">roundToSlot</a> <a id="2946" class="Symbol">:</a> <a id="2948" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="2950" class="Symbol">→</a> <a id="2952" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a> <a id="2964" class="Symbol">→</a> <a id="2966" href="Peras.Numbering.html#742" class="Record">SlotNumber</a>
<a id="2977" href="Peras.Numbering.html#2934" class="Function">roundToSlot</a> <a id="2989" href="Peras.Numbering.html#2989" class="Bound">T</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a> <a id="3006" href="Peras.Numbering.html#3006" class="Bound">r</a><a id="3007" class="Symbol">)</a> <a id="3009" class="Symbol">=</a> <a id="3011" href="Peras.Numbering.html#779" class="InductiveConstructor">MkSlotNumber</a> <a id="3024" class="Symbol">(</a><a id="3025" href="Peras.Numbering.html#3006" class="Bound">r</a> <a id="3027" href="Agda.Builtin.Nat.html#539" class="Primitive Operator">*</a> <a id="3029" href="Peras.Numbering.html#2989" class="Bound">T</a><a id="3030" class="Symbol">)</a>

<a id="slotToRound"></a><a id="3033" href="Peras.Numbering.html#3033" class="Function">slotToRound</a> <a id="3045" class="Symbol">:</a> <a id="3047" href="Peras.Conformance.Params.html#383" class="Record">PerasParams</a> <a id="3059" class="Symbol">→</a> <a id="3061" href="Peras.Numbering.html#742" class="Record">SlotNumber</a> <a id="3072" class="Symbol">→</a> <a id="3074" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a>
<a id="3086" href="Peras.Numbering.html#3033" class="Function">slotToRound</a> <a id="3098" href="Peras.Numbering.html#3098" class="Bound">protocol</a> <a id="3107" class="Symbol">(</a><a id="3108" href="Peras.Numbering.html#779" class="InductiveConstructor">MkSlotNumber</a> <a id="3121" href="Peras.Numbering.html#3121" class="Bound">n</a><a id="3122" class="Symbol">)</a> <a id="3124" class="Symbol">=</a> <a id="3126" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a> <a id="3140" class="Symbol">(</a><a id="3141" href="Peras.Numbering.html#2509" class="Function">div</a> <a id="3145" href="Peras.Numbering.html#3121" class="Bound">n</a> <a id="3147" class="Symbol">(</a><a id="3148" href="Peras.Conformance.Params.html#447" class="Field">perasU</a> <a id="3155" href="Peras.Numbering.html#3098" class="Bound">protocol</a><a id="3163" class="Symbol">))</a>

<a id="slotInRound"></a><a id="3167" href="Peras.Numbering.html#3167" class="Function">slotInRound</a> <a id="3179" class="Symbol">:</a> <a id="3181" href="Peras.Conformance.Params.html#383" class="Record">PerasParams</a> <a id="3193" class="Symbol">→</a> <a id="3195" href="Peras.Numbering.html#742" class="Record">SlotNumber</a> <a id="3206" class="Symbol">→</a> <a id="3208" href="Peras.Numbering.html#742" class="Record">SlotNumber</a>
<a id="3219" href="Peras.Numbering.html#3167" class="Function">slotInRound</a> <a id="3231" href="Peras.Numbering.html#3231" class="Bound">protocol</a> <a id="3240" href="Peras.Numbering.html#3240" class="Bound">slot</a> <a id="3245" class="Symbol">=</a> <a id="3247" href="Peras.Numbering.html#779" class="InductiveConstructor">MkSlotNumber</a> <a id="3260" class="Symbol">(</a><a id="3261" href="Peras.Numbering.html#2612" class="Function">mod</a> <a id="3265" class="Symbol">(</a><a id="3266" href="Peras.Numbering.html#800" class="Field">getSlotNumber</a> <a id="3280" href="Peras.Numbering.html#3240" class="Bound">slot</a><a id="3284" class="Symbol">)</a> <a id="3286" class="Symbol">(</a><a id="3287" href="Peras.Conformance.Params.html#447" class="Field">perasU</a> <a id="3294" href="Peras.Numbering.html#3231" class="Bound">protocol</a><a id="3302" class="Symbol">))</a>

<a id="nextSlot"></a><a id="3306" href="Peras.Numbering.html#3306" class="Function">nextSlot</a> <a id="3315" class="Symbol">:</a> <a id="3317" href="Peras.Numbering.html#742" class="Record">SlotNumber</a> <a id="3328" class="Symbol">→</a> <a id="3330" href="Peras.Numbering.html#742" class="Record">SlotNumber</a>
<a id="3341" href="Peras.Numbering.html#3306" class="Function">nextSlot</a> <a id="3350" class="Symbol">(</a><a id="3351" href="Peras.Numbering.html#779" class="InductiveConstructor">MkSlotNumber</a> <a id="3364" href="Peras.Numbering.html#3364" class="Bound">n</a><a id="3365" class="Symbol">)</a> <a id="3367" class="Symbol">=</a> <a id="3369" href="Peras.Numbering.html#779" class="InductiveConstructor">MkSlotNumber</a> <a id="3382" class="Symbol">(</a><a id="3383" class="Number">1</a> <a id="3385" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3387" href="Peras.Numbering.html#3364" class="Bound">n</a><a id="3388" class="Symbol">)</a>

<a id="nextRound"></a><a id="3391" href="Peras.Numbering.html#3391" class="Function">nextRound</a> <a id="3401" class="Symbol">:</a> <a id="3403" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a> <a id="3415" class="Symbol">→</a> <a id="3417" href="Peras.Numbering.html#1669" class="Record">RoundNumber</a>
<a id="3429" href="Peras.Numbering.html#3391" class="Function">nextRound</a> <a id="3439" class="Symbol">(</a><a id="3440" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a> <a id="3454" href="Peras.Numbering.html#3454" class="Bound">n</a><a id="3455" class="Symbol">)</a> <a id="3457" class="Symbol">=</a> <a id="3459" href="Peras.Numbering.html#1707" class="InductiveConstructor">MkRoundNumber</a> <a id="3473" class="Symbol">(</a><a id="3474" class="Number">1</a> <a id="3476" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="3478" href="Peras.Numbering.html#3454" class="Bound">n</a><a id="3479" class="Symbol">)</a>
</pre>
<!--
<pre class="Agda"><a id="3499" class="Symbol">{-#</a> <a id="3503" class="Keyword">COMPILE</a> <a id="3511" class="Keyword">AGDA2HS</a> <a id="3519" href="Peras.Numbering.html#3033" class="Function">slotToRound</a> <a id="3531" class="Symbol">#-}</a>
<a id="3535" class="Symbol">{-#</a> <a id="3539" class="Keyword">COMPILE</a> <a id="3547" class="Keyword">AGDA2HS</a> <a id="3555" href="Peras.Numbering.html#3167" class="Function">slotInRound</a> <a id="3567" class="Symbol">#-}</a>
<a id="3571" class="Symbol">{-#</a> <a id="3575" class="Keyword">COMPILE</a> <a id="3583" class="Keyword">AGDA2HS</a> <a id="3591" href="Peras.Numbering.html#3306" class="Function">nextSlot</a> <a id="3600" class="Symbol">#-}</a>
<a id="3604" class="Symbol">{-#</a> <a id="3608" class="Keyword">COMPILE</a> <a id="3616" class="Keyword">AGDA2HS</a> <a id="3624" href="Peras.Numbering.html#3391" class="Function">nextRound</a> <a id="3634" class="Symbol">#-}</a>
</pre>-->
</body>
</html>
