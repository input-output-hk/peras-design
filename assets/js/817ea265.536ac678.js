"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[756],{627:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>l,toc:()=>c});var i=n(4848),a=n(8453);const t={},r="Peras Team Paris Workshop",l={id:"reports/2024-04-10-paris-workshop",title:"Peras Team Paris Workshop",description:"Agenda",source:"@site/docs/reports/2024-04-10-paris-workshop.md",sourceDirName:"reports",slug:"/reports/2024-04-10-paris-workshop",permalink:"/peras-design/docs/reports/2024-04-10-paris-workshop",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/reports/2024-04-10-paris-workshop.md",tags:[],version:"current",frontMatter:{},sidebar:"DocumentsSidebar",previous:{title:"Reports",permalink:"/peras-design/docs/reports/"},next:{title:"Peras - Faster Settlement on Cardano",permalink:"/peras-design/docs/reports/cip"}},o={},c=[{value:"Agenda",id:"agenda",level:2},{value:"Day 1",id:"day-1",level:2},{value:"Peras Algorithm Walkthrough",id:"peras-algorithm-walkthrough",level:3},{value:"Questions",id:"questions",level:3},{value:"Writing Pseudo-code Algorithim in Agda",id:"writing-pseudo-code-algorithim-in-agda",level:3},{value:"Day 2",id:"day-2",level:2},{value:"Quviq presentation",id:"quviq-presentation",level:3},{value:"Agda Model &amp; Proofs",id:"agda-model--proofs",level:3},{value:"Next steps",id:"next-steps",level:3}];function h(e){const s={a:"a",annotation:"annotation",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"peras-team-paris-workshop",children:"Peras Team Paris Workshop"}),"\n",(0,i.jsx)(s.h2,{id:"agenda",children:"Agenda"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"(current) Peras walkthrough by Sandro"}),"\n",(0,i.jsxs)(s.li,{children:["Clarify what finality and settlement really are?","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Write some checkable property"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Walkthrough of formal spec","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Relate Bas Spitter's design w/ current Crypto proofs"}),"\n",(0,i.jsx)(s.li,{children:"Does BS's proof system scale to Peras?"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Write the current algorithm in Agda"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"day-1",children:"Day 1"}),"\n",(0,i.jsx)(s.h3,{id:"peras-algorithm-walkthrough",children:"Peras Algorithm Walkthrough"}),"\n",(0,i.jsxs)(s.p,{children:["Basic proof principle for Praos is to define a ",(0,i.jsx)(s.em,{children:"Characteristic string"})," where each character represents either some honest slot (0) or adversarial (1)"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"An adversary can create several blocks"}),"\n",(0,i.jsx)(s.li,{children:"An honest node builds on previous blocks up to \u0394 (maximum number of slots a honest node can look in the past to build a chain)"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["To prove some settlement bounds and safety of the protocol, we need to compute the ",(0,i.jsx)(s.em,{children:"margin"}),", that is the difference between longest chain known to honest guys and second longest chain that an adversary can craft"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"look at all possible graphs for a given string and compute minimum difference"}),"\n",(0,i.jsxs)(s.li,{children:["random walk b/w 0 and 1 (0 => down, 1 => up) => want to ensure the margin is negative","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["want to know the negative value of ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mi,{children:"k"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]})," after which the probability of the margin ever going up to 0+ is very low"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Note the goal of the adversary is usually to double spend and create forks, the benefits of which are expected to be side-effects","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Have honest parties accept a transaction that has a non reversible side-effect in the real world and then cancel the transaction in a fork"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"What's the difference b/w settlement & finality?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"improving finality = at what point a block becomes part of the chain forever (but at the risk of some error margin)"}),"\n",(0,i.jsx)(s.li,{children:"improving settlement = a probabilistic notion, what's the probability for a transaction to be reverted?"}),"\n",(0,i.jsxs)(s.li,{children:["what happens when something goes wrong?","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"finality \u27f6 game over"}),"\n",(0,i.jsx)(s.li,{children:"Settlement \u27f6 the network can recover over time"}),"\n",(0,i.jsx)(s.li,{children:'With Praos, even if the adversary manages to get an advantage for some time, when this advantage disappears the chain can "heal" itself'}),"\n",(0,i.jsxs)(s.li,{children:["Of course, as long as this happens with ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsx)(s.mrow,{children:(0,i.jsx)(s.mi,{children:"k"})}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"k"})]})})}),(0,i.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03148em"},children:"k"})]})})]})," blocks"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Ethereum implemented protocols for fast finality after switching to PoS but they were proven to have flaws"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Casper + Ghost -> Ghasper"}),"\n",(0,i.jsxs)(s.li,{children:["Voting schemes are subject to ",(0,i.jsx)(s.em,{children:"balancing attack"}),": The adversary has a easier time to balance the chains (match honest chain's weight)  with votes"]}),"\n",(0,i.jsx)(s.li,{children:"Good example of why we need to do proofs!"}),"\n",(0,i.jsx)(s.li,{children:"Goldfish -> provably secure"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Peras principles:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"In practice, we know that only small forks are observed on mainnet"}),"\n",(0,i.jsx)(s.li,{children:"We want to calibrate voting rounds length so that probability of all nodes seeing same block is very high -> don't want to use # of blocks but depends on time (slots)"}),"\n",(0,i.jsx)(s.li,{children:"the goal is to ensure that there's only one winner for each block"}),"\n",(0,i.jsxs)(s.li,{children:["proof that ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{children:"\u03c4"}),(0,i.jsx)(s.mo,{children:">"}),(0,i.jsx)(s.mo,{children:"="}),(0,i.jsx)(s.mn,{children:"3"}),(0,i.jsx)(s.mi,{children:"n"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"/"}),(0,i.jsx)(s.mn,{children:"4"})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\tau >= 3n/4"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.5782em",verticalAlign:"-0.0391em"}}),(0,i.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.1132em"},children:"\u03c4"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:">="}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,i.jsx)(s.span,{className:"mord",children:"3"}),(0,i.jsx)(s.span,{className:"mord mathnormal",children:"n"}),(0,i.jsx)(s.span,{className:"mord",children:"/4"})]})]})]})," with n = committee size, assuming adversarial t < n/2 (eg. one-third adversarial power)"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["The reason for ",(0,i.jsx)(s.em,{children:"cooldown"})," is counter the balancing attack whereby an adversary can withold votes and then later cast them to force a fork"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"because of the initial advantage to adversary from failed vote, cooldown needs to take longer than k"}),"\n",(0,i.jsx)(s.li,{children:"use the chain to store the certificate (public proof there was a quorum at some point) with max age A"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:'A certificate is "just" a set of votes larger than quorum in a given round for the same block'}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"certificates can be slightly different for each node depending on vote diffusion and that's fine"}),"\n",(0,i.jsx)(s.li,{children:"need R = chain ignorance period to say how long to ignore the chain for when in cooldown period, in order to avoid the shortening the cooldown period by seeing another (adversarial) cooldown trigger while waiting for recovery"}),"\n",(0,i.jsxs)(s.li,{children:["Note that ",(0,i.jsxs)(s.span,{className:"katex",children:[(0,i.jsx)(s.span,{className:"katex-mathml",children:(0,i.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,i.jsxs)(s.semantics,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsxs)(s.msub,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"C"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"e"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"r"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"t"})]}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{children:"c"}),(0,i.jsx)(s.mi,{children:"h"}),(0,i.jsx)(s.mi,{children:"a"}),(0,i.jsx)(s.mi,{children:"i"}),(0,i.jsx)(s.mi,{children:"n"})]})]}),(0,i.jsx)(s.mo,{children:"\u2286"}),(0,i.jsxs)(s.msub,{children:[(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{mathvariant:"normal",children:"C"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"e"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"r"}),(0,i.jsx)(s.mi,{mathvariant:"normal",children:"t"})]}),(0,i.jsxs)(s.mrow,{children:[(0,i.jsx)(s.mi,{children:"s"}),(0,i.jsx)(s.mi,{children:"e"}),(0,i.jsx)(s.mi,{children:"e"}),(0,i.jsx)(s.mi,{children:"n"})]})]})]}),(0,i.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\mathrm{Cert}_{chain} \u2286 \\mathrm{Cert}_{seen}"})]})})}),(0,i.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"Cert"})}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.3361em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.55em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(s.span,{className:"mord mtight",children:[(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"c"}),(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"hain"})]})})]})}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(s.span,{})})})]})})]}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,i.jsx)(s.span,{className:"mrel",children:"\u2286"}),(0,i.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,i.jsxs)(s.span,{className:"base",children:[(0,i.jsx)(s.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,i.jsxs)(s.span,{className:"mord",children:[(0,i.jsx)(s.span,{className:"mord",children:(0,i.jsx)(s.span,{className:"mord mathrm",children:"Cert"})}),(0,i.jsx)(s.span,{className:"msupsub",children:(0,i.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,i.jsxs)(s.span,{className:"vlist-r",children:[(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.1514em"},children:(0,i.jsxs)(s.span,{style:{top:"-2.55em",marginRight:"0.05em"},children:[(0,i.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,i.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,i.jsxs)(s.span,{className:"mord mtight",children:[(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"see"}),(0,i.jsx)(s.span,{className:"mord mathnormal mtight",children:"n"})]})})]})}),(0,i.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,i.jsx)(s.span,{className:"vlist-r",children:(0,i.jsx)(s.span,{className:"vlist",style:{height:"0.15em"},children:(0,i.jsx)(s.span,{})})})]})})]})]})]})]})]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Where do we put the certificate?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://github.com/IntersectMBO/cardano-ledger/blob/master/eras/babbage/impl/cddl-files/babbage.cddl",children:"block body"})," is not only the list of txs -> could add a field for certificate"]}),"\n",(0,i.jsx)(s.li,{children:"We could also put the certificate in a transaction within the block which would have the advantage of not requiring a change in block structures"}),"\n",(0,i.jsx)(s.li,{children:'As the certificate is created and included in "cooldown block" by the BP, it\'s not a problem to be included as a (valid) transaction as it would bypass the whole mempool process and therefore would not be subject to congestion issues'}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"questions",children:"Questions"}),"\n",(0,i.jsx)(s.p,{children:"Q: Do we really need to store all the certs/votes?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"We could record the history of certificates in the latest one we bake and share that instead"}),"\n",(0,i.jsx)(s.li,{children:"this is something research team could investigate post-submission"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Q: How faster does Peras settles?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"If we have B = 1/10th of k (=2160) => need 10 rounds to get same settlement than k blocks (if U = 10s --\x3e 100s)"}),"\n",(0,i.jsx)(s.li,{children:"T_heal = k/10"}),"\n",(0,i.jsx)(s.li,{children:"K = 11/10th T_CP + T_CQ"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Rem: Risks from misbehaviour"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"with Peras, you'll have consensus because of cooldown period so you can agree on who misbehaved!"}),"\n",(0,i.jsxs)(s.li,{children:["a possible extension of the protocol to limit cooldown periods which could happen due to bad network conditions would be for nodes to vote on ",(0,i.jsx)(s.em,{children:"cancelling"})," a cooldown certificate"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Q: In what circumastances would Peras >> Praos ?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Pb: Even with low/moderate adversarial power, it's possible to force entering cooldown which breaks the benefits of the prootocl"}),"\n",(0,i.jsx)(s.li,{children:"Hard to quantify precisely rn, depends on L"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Q: Is there some dominance of adversarial strategies in Praos vs. Peras?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"feels like it's easier in Peras"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"Q: Would there be a way to prove that an adversary can only force cooldown if they double vote (which is detectable) and therefore damage their reputation of produce?"}),"\n",(0,i.jsx)(s.p,{children:"Q: What are our Competitors doing?"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://eprint.iacr.org/2017/913.pdf",children:"Thunderella"})}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.a,{href:"https://arxiv.org/abs/2209.03255",children:"Goldfish"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["Also ",(0,i.jsx)(s.a,{href:"https://www.youtube.com/watch?v=DHlkydKPjkk",children:"https://www.youtube.com/watch?v=DHlkydKPjkk"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Concordium"}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://www.computer.org/csdl/proceedings-article/sp/2021/893400a768/1t0x8EdnqoM",children:"Ebb and Flow"})}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"writing-pseudo-code-algorithim-in-agda",children:"Writing Pseudo-code Algorithim in Agda"}),"\n",(0,i.jsxs)(s.p,{children:["We spent time working on converting ",(0,i.jsx)(s.a,{href:"https://docs.google.com/document/d/1w_jHsojcBxZHgGrr63ZGa4nhkgEpkL6a2cFYiq8Vf8c/edit",children:"Peras pseudo-code"})," to actual (typechecked) Agda code, inventing a DSL that would be familiar to researchers. Here is a sample, with the full code available in the ",(0,i.jsx)(s.a,{href:"https://github.com/input-output-hk/peras-design/blob/main/src/Peras/Protocol.agda#L178",children:"Protocol.agda"})," file"]}),"\n",(0,i.jsx)(s.p,{children:"Original specification from Google doc:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:" upon entering new slot s\n    if P is leader in slot s\n      B := new block extending Cpref\n      if Certs[rcurrent-2] = null\n         and rcurrent - round(certseen) <= A\n         and round(certseen) > round(certchain)\n           B := (B, certseen)\n           Cpref := Cpref || B\n           output (chain, Cpref<-W>) to Z\n"})}),"\n",(0,i.jsx)(s.p,{children:"The Agda code:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-agda",children:"onNewSlot : Party -> Slot -> Node \u22a4\nonNewSlot p s =\n when (p isLeaderInSlot s) (do\n     cpref \u2190 preferredChain\n     b \u2190 forgeBlock cpref\n     certs \u2190 certificates\n     certseen \u2190 latestCertificateSeen\n     certchain \u2190 latestCertificateOnChain cpref\n     let rcurrent = s / U\n     when\n       ( (certs [ rcurrent - 2 ]) == null\n           \u2227 ((rcurrent - round certseen) <= A)\n           \u2227 (round certseen > round certchain)\n       ) do\n         let b' = Certify b certseen\n         cpref \u2190 cpref extendWith b\n         output (cpref trimmedBy W))\n"})}),"\n",(0,i.jsx)(s.h2,{id:"day-2",children:"Day 2"}),"\n",(0,i.jsx)(s.h3,{id:"quviq-presentation",children:"Quviq presentation"}),"\n",(0,i.jsxs)(s.p,{children:["Max and Ulf walked us through their prototype integration of Agda and quickcheck-dynamic, available in a ",(0,i.jsx)(s.a,{href:"https://github.com/input-output-hk/peras-design/tree/55ab966196f23adf5b684df815ca0e447f8598b7/test-demo",children:"branch"}),". The basic principles are sketched in the following diagram:"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"Agda-QuickCheck Integration",src:n(6898).A+"",width:"2384",height:"1274"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["There's a distinct ",(0,i.jsx)(s.em,{children:"Test Model"})," which describes what the QC tests are interested in testing on the implementation, eg. it does not need to reflect the full ",(0,i.jsx)(s.em,{children:"Formal model"})," but can focus on specific aspects and use different data structures"]}),"\n",(0,i.jsxs)(s.li,{children:["The ",(0,i.jsx)(s.em,{children:"soundness"})," of the Test model is guaranteed by Agda proofs that ensure tests only produce sequence of state transitions that are valid w.r.t to the formal model"]}),"\n",(0,i.jsxs)(s.li,{children:["The grunt of the quickcheck-dynamic structure, apart from the ",(0,i.jsx)(s.code,{children:"perform"})," code which is needed to connect with the SUT, is generated from this ",(0,i.jsx)(s.em,{children:"Test model"})]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"agda-model--proofs",children:"Agda Model & Proofs"}),"\n",(0,i.jsx)(s.p,{children:"We went through the existing Agda model and discussed how this model relates to the researcher's formalism on one side, and to the original PoS paper on the other side"}),"\n",(0,i.jsx)(s.h3,{id:"next-steps",children:"Next steps"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Move pseudo-code from Google doc to Agda code","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Contemplate publishing it as a future paper?"}),"\n",(0,i.jsx)(s.li,{children:"Ensure both engineering and research use this as a reference point"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["Express settlement bounds improvement from Peras as a QCD property in Agda","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:'Reuse "example" from Quviq'}),"\n",(0,i.jsx)(s.li,{children:'How to relate this model to the  "real" one'}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["More work on Agda Peras model","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Finish current proof"}),"\n",(0,i.jsx)(s.li,{children:"Align/reflect on the researchers' proof and model from the paper"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\u0394Q -> modeling vote diffusion","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"include vote verification/certificate creation time"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.li,{children:"Simulation(s)"}),"\n",(0,i.jsx)(s.li,{children:"Visual toy model of protocol"}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},6898:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/agda-quickcheck-f6b64d1b63c46d0d942c69378a790bb1.png"},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>l});var i=n(6540);const a={},t=i.createContext(a);function r(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);