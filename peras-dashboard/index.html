<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="view.css" type="text/css" rel="stylesheet"/>
    <script src="controller.js" type="application/javascript"> </script>
    <title>Peras Probabilities</title>
  </head>
  <body id="uiBody" onload="Controller.initialize()">
    <h1>Peras probability calculator</h1>
    <h2>Protocol parameters</h2>
    <div>
      <div class="control">
        <label for="uiB">Boost (B, in blocks): <span class="help" title="The extra chain weight that a certificate gives to a block.">&#9432;</span></label>
        <input id="uiB" type="number" min="0" max="100" value="15"/>
      </div>
      <div class="control">
        <label for="uiU">Round length (U, in slots): <span class="help" title="The duration of each voting round.">&#9432;</span></label>
        <input id="uiU" type="number" min="5" max="1200" value="90" step="1"/>
      </div>
      <!--div class="control">
        <label for="uiA">Cert. expiration (A, in slots): <span class="help" title="The maximum age for a certificate to be included in a block.">&#9432;</span></label>
        <input id="uiA" type="number" min="30" max="900" value="200"/>
      </div-->
      <!--div class="control">
        <label for="uiR">Chain ignorance (R, in rounds): <span class="help" title="The number of rounds for which to ignore certificates after entering a cool-down period.">&#9432;</span></label>
        <input id="uiR" type="number" min="0" max="10" value="10"/>
      </div-->
      <!--div class="control">
        <label for="uiK">Cooldown period (K, in rounds): <span class="help" title="The minimum number of rounds to wait before voting again after a cool-down period starts.">&#9432;</span></label>
        <input id="uiK" type="number" min="0" max="50" value="17"/>
      </div-->
      <div class="control">
        <label for="uiL">Block selection offset (L, in slots): <span class="help" title="The minimum age of a candidate block for being voted upon.">&#9432;</span></label>
        <input id="uiL" type="number" min="1" max="1200" value="30" step="1"/>
      </div>
      <div class="control">
        <label for="uiCommittee">Mean committee size (n, in nodes): <span class="help" title="The number of members on the voting committee.">&#9432;</span></label>
        <input id="uiCommittee" type="number" min="0" max="3000" value="900" step="1"/>
      </div>
      <div class="control">
        <label for="uiTau">Quorum size (Ï„ / n, in %/100): <span class="help" title="The number of votes, relative to the mean committee size, required to create a certificate.">&#9432;</span></label>
        <input id="uiTau" type="number" min="0" max="1" value="0.75" step="0.01"/>
      </div>
      <div class="control">
        <label for="uiAlpha">Active slot coefficient (f, in 1/nodes): <span class="help" title="The probability that a party will be the slot leader for a particular slot.">&#9432;</span></label>
        <input id="uiAlpha" type="number" min="0" max="1" value="0.05" step="0.01"/>
      </div>
    </div>
    <h2>Scenario</h2>
    <div>
      <div class="control">
        <label for="uiAdversary">Fraction of adversarial stake: <span class="help" title="TO BE ADDED">&#9432;</span></label>
        <input id="uiAdversary" type="number" min="0" max="1" value="0.20" step="0.01"/>
      </div>
    </div>
    <h2>Performance metrics</h2>
    <div>
      <button id="uiCalculate" type="button" onclick="Controller.calculate()">Calculate</button>
      <div class="metric">
        <label for="uiPostBoost">Probability of a rollback after one boosting: <span class="help" title="TO BE ADDED">&#9432;</span></label>
        <input id="uiPostBoost" type="number"/>
      </div>
      <div class="metric">
        <label for="uiPreBoost">Probability of a rollback in first U+L slots: <span class="help" title="TO BE ADDED">&#9432;</span></label>
        <input id="uiPreBoost" type="number"/>
      </div>
      <div class="metric">
        <label for="uiPost">Probability of a rollback after surviving U+L slots: <span class="help" title="TO BE ADDED">&#9432;</span></label>
        <input id="uiPost" type="number"/>
      </div>
      <div class="metric">
        <label for="uiNoQuorum">Probability of a round not reaching quorum: <span class="help" title="TO BE ADDED">&#9432;</span></label>
        <input id="uiNoQuorum" type="number"/>
      </div>
    </div>
  </body>
</html>
